#
# View			: view-sake10
# Project   : Home Assistant / Swiss Army Knife custom card.
# Repository: https://github.com/AmoebeLabs/
#
# Author    : Mars @ AmoebeLabs.com
# 
# License   : CC BY-SA, https://creativecommons.org/licenses/by/4.0/
#
# -----
# Description:
# SAK Example #10. Some colorful square visualisation cards.
# Again.. But now using classes and showing switches/lights etc.
#
# Refs:
#   
################################################################################

title: SAKE10
path: sake10
panel: false
theme: 'NM - Gonsboro'
cards:
#-------------------------------------------------------------------------------
- type: vertical-stack
  cards:
# =================================
    - type: horizontal-stack
      cards:
        # 
        # First ROW, first card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: sensor.studym_iaq_temperature
              unit: 'Â°C'
              decimals: 1
              area: 'Tha Moon'
              name: 'Temperature'

          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-sensor
                position:
                  cx: 50
                  cy: 50
                tools:
                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2.5
                    entity_index: 0
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_temperature_inside_heating
                        variables:
                          - theFill: true
                    styles:
                      rectex:
                        fill: lightgrey
                        opacity: 0.5

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 15
                      cy: 25
                      align: center
                      icon_size: 25
                    entity_index: 0

                  # ------------------------------------------------------------
                  - type: 'segarc'
                    id: 0
                    position:
                      cx: 65
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 4
                      radius_x: 30
                      radius_y: 15
                    entity_index: 0
                    scale:
                      min: 10
                      max: 30
                      width: 2
                      offset: 3
                    show:
                      scale: false
                      style: 'colorstops'
                    segments:
                      colorstops:
                        template:
                          name: colorstops_temperature_inside_heating
                          variables:
                            - thegap: 0.5
                    styles:
                      foreground:
                        fill: darkgrey
                      background:
                        fill: var(--cs-theme-shadow-darker)
                        opacity: 0.4

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 65
                      cy: 25
                    entity_index: 0
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 13em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: bar
                    id: 1
                    entity_index: 0
                    position:
                      orientation: vertical
                      cx: 50
                      cy: 90
                      width: 100
                      height: 20
                      margin: .5
                    hours: 24
                    barhours: 1
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_temperature_inside_heating
                        variables:
                          - theFill: true
                    styles:
                      bar:
                        stroke-linecap: butt

        # 
        # First ROW, second card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: sensor.studym_iaq_humidity
              unit: '%'
              decimals: 1
              area: 'Tha Moon'
              name: 'Humidity'

          # Define aspect ratio as square
          aspectratio: 1/1

          disable_card: false

          dev:
            debug: false
            
          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-sensor
                position:
                  cx: 50
                  cy: 50
                tools:
                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2.5
                    entity_index: 0
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_humidity
                        variables:
                          - theFill: true
                    styles:
                      rectex:
                        fill: lightgrey
                        opacity: 0.75

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 15
                      cy: 25
                      align: center
                      icon_size: 25
                    entity_index: 0

                  # ------------------------------------------------------------
                  - type: 'segarc'
                    id: 0
                    position:
                      cx: 65
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 3
                      radius_x: 30
                      radius_y: 15
                    entity_index: 0
                    scale:
                      min: 0
                      max: 100
                      width: 2
                      offset: 3
                    show:
                      scale: false
                      style: 'colorstops'
                    segments:
                      colorstops:
                        template:
                          name: colorstops_humidity
                          variables:
                            - thegap: 0
                    styles:
                      foreground:
                        fill: darkgrey
                      background:
                        fill: var(--cs-theme-shadow-darker)
                        opacity: 0.4

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 65
                      cy: 25
                    entity_index: 0
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 13em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: bar
                    id: 1
                    entity_index: 0
                    position:
                      orientation: vertical
                      cx: 50
                      cy: 90
                      width: 100
                      height: 20
                      margin: .5
                    hours: 24
                    barhours: 2
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_humidity
                        variables:
                          - theFill: true
                    styles:
                      bar:
                        stroke-linecap: butt

        # 
        # First ROW, third card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: sensor.studym_iaq_pressure
              decimals: 0
              unit: 'hPa'
              area: 'Tha Moon'
              name: 'Pressure'

          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-sensor
                position:
                  cx: 50
                  cy: 50
                tools:
                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 50
                      height: 5
                      radius:
                        top: 0
                        bottom: 2.5
                    entity_index: 0
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_pressure
                        variables:
                          - theFill: true
                    styles:
                      rectex:
                        fill: lightgrey

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 15
                      cy: 25
                      align: center
                      icon_size: 25
                    entity_index: 0

                  # ------------------------------------------------------------
                  - type: 'segarc'
                    id: 0
                    position:
                      cx: 65
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 2
                      radius_x: 30
                      radius_y: 15
                    entity_index: 0
                    scale:
                      min: 950
                      max: 1050
                      width: 2
                      offset: 3
                    show:
                      scale: false
                      style: 'colorstops'
                    segments:
                      colorstops:
                        template:
                          name: colorstops_pressure
                          variables:
                            - thegap: 0
                    styles:
                      foreground:
                        fill: darkgrey
                      background:
                        fill: var(--cs-theme-shadow-darker)
                        opacity: 0.4

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 65
                      cy: 25
                    entity_index: 0
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 13em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: bar
                    id: 1
                    entity_index: 0
                    position:
                      orientation: vertical
                      cx: 50
                      cy: 90
                      width: 100
                      height: 20
                      margin: .5
                    hours: 24
                    barhours: 1
                    show:
                      style: 'colorstops'
                    colorstops:
                      template:
                        name: colorstops_pressure
                        variables:
                          - theFill: true
                    styles:
                      bar:
                        stroke-linecap: round

# =================================
    - type: horizontal-stack
      cards:
        # 
        # Second ROW, first card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              name: 'Movement'
              area: 'Livingroom'
            - entity: binary_sensor.livingroom_movement_occupancy
              secondary_info: last_changed
              format: relative

          # Define aspect ratio as square
          aspectratio: 1/1

          disable_card: false

          dev:
            debug: false
            
          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-alert2--active: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-alert2--clear: true

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 25
                      cy: 25
                      align: center
                      icon_size: 30
                    entity_index: 0
                    # Define colors for the icon depending on the state
                    # Note that we have to define both on and off states, as for some reason
                    # the default styling (in case of 'off' state keeps the color of the 'on'
                    # state (unexpected...)
                    #
                    # The icon animation ONLY works in Safari. This is due to the fact that
                    # Safari has a different render path than Chrome. This will be fixed 
                    # in the future of course ;-)
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: jello 2s ease-in-out both
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 10
                      cy: 85
                    entity_index: 1
                    styles:
                      state:
                        text-anchor: start
                        font-size: 8em
                        font-weight: 700
                        fill: var(--md-fg-color)
                      uom:
                        fill: var(--md-fg-color)
                        font-weight: 700

        # 
        # Second ROW, second card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
            - entity: sensor.u_s_air_pollution_level

          # Define aspect ratio as square
          aspectratio: 1/1

          disable_card: false

          dev:
            debug: false
            
          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for animations & state
                  # ------------------------------------------------------------ 
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2.5
                    entity_index: 0
                    show:
                      style: colorstops
                    colorstops:
                      fill: true
                      stroke: true
                      colors:
                        0: '#A8E05F'
                        51: '#FDD74B'
                        101: '#FE9B57'
                        151: '#FE6A69'
                        201: '#A97ABC'
                        301: '#A87383'

                    csnew:
                      # fill: true                # Using colorstops settings for now
                      # stroke: true
                      colors:
                        - stop: 0                 # The stop
                          styles:                 # Styles / Classes
                            rectex:                  # The part
                              fill: '#A8E05F'
                              stroke: black
                        - stop: 51
                          styles:
                            rectex:
                              fill: '#FDD74B'
                              stroke: red
                              animation: flash 2s ease-in-out 5;
                        - stop: 101
                          styles:
                            rectex:
                              fill: '#FE9B57'
                              stroke: green
                        - stop: 151
                          styles:
                            rectex:
                              fill: '#FE6A69'
                              stroke: blue
                        - stop: 201
                          styles:
                            rectex:
                              fill: '#A97ABC'
                              stroke: yellow
                        - stop: 301
                          styles:
                            rectex:
                              fill: '#A87383'    
                              stroke: orange
                    styles:
                      rectex:
                        fill: grey
                        opacity: 1
                        stroke-width: 2
                        stroke: darkgrey

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 15
                      cy: 25
                      align: center
                      icon_size: 25
                    entity_index: 1

                  # ------------------------------------------------------------
                  - type: 'segarc'
                    id: 0
                    position:
                      cx: 65
                      cy: 35
                      start_angle: 190
                      end_angle: 170
                      width: 2
                      radius_x: 120
                      radius_y: 1
                    entity_index: 0
                    scale:
                      min: 0
                      max: 300
                      width: 2
                      offset: 3
                    show:
                      scale: true
                      style: 'colorstops'
                    segments:
                      colorstops:
                        gap: 0
                        colors:
                          0: '#A8E05F'
                          51: '#FDD74B'
                          101: '#FE9B57'
                          151: '#FE6A69'
                          201: '#A97ABC'
                          301: '#A87383'
                    styles:
                      foreground:
                        fill: darkgrey
                      background:
                        fill: var(--cs-theme-shadow-darker)
                        opacity: 0.4

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 65
                      cy: 25
                    entity_index: 0
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 13em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------ 
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: bar
                    id: 1
                    entity_index: 0
                    position:
                      orientation: vertical
                      cx: 50
                      cy: 90
                      width: 100
                      height: 20
                      margin: .5
                    hours: 24
                    barhours: 1
                    show:
                      style: 'colorstops'
                    colorstops:
                      fill: true
                      colors:
                        0: '#A8E05F'
                        51: '#FDD74B'
                        101: '#FE9B57'
                        151: '#FE6A69'
                        201: '#A97ABC'
                        301: '#A87383'
                    styles:
                      bar:
                        stroke-linecap: butt

        # 
        # Second ROW, third card
        #
        ########################################################################


        - type: 'custom:dev-swiss-army-knife-card'

          # Define aspect ratio as square
          aspectratio: 1/1

          disable_card: true

          layout:
            styles:
              card:
              toolsets:
              
            # We need some dummy toolset for an empty card used as filler
            toolsets:
              # ================================================================
              - toolset: empty-card
                position:
                  cx: 50
                  cy: 50
                tools:
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0


# =================================
    - type: horizontal-stack
      cards:
        # 
        # Third ROW, first card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: Duo Rechts
              area: Woonkamer
              icon: mdi:floor-lamp-dual
              tap_action:
                action: call-service
                service: light.toggle
                service_data: { "entity_id" : "light.livingroom_light_duo_right_light" }
                haptic: light

            - entity: light.livingroom_light_duo_right_light
              name: Duo Rechts
              area: Woonkamer
              icon: mdi:floor-lamp-dual
              attribute: brightness
              unit_of_measurement: "%"
              tap_action:
                action: more-info
                haptic: success

          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-switch--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-switch-off: true

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 25
                      cy: 25
                      align: center
                      icon_size: 30
                    entity_index: 0
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: headShake 1s ease-in-out 1
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: segarc
                    id: 0
                    entity_index: 1
                    position:
                      cx: 80
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 2
                      radius: 15
                    scale:
                      min: 0
                      max: 100
                    show:
                      scale: false
                      style: 'colorlist'
                    derived_entity:
                      template:
                        name: derived_entity_brightness
                        # BUG:
                        # Do need a variable section here and defaults in
                        # template itself. That should not be the case...
                        #
                        # A template without variables SHOULD be possible...
                        variables:
                          - dummyvar: 'bug'
                    segments:
                      colorlist:
                        gap: 1
                        colors:
                          - 'var(--primary-text-color)'
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

              - toolset: slidertest3
                position:
                  cx: 50
                  cy: 60
                tools:
                  # ------------------------------------------------------------
                  - type: slider2
                    descr: '#3 test slider'
                    position:
                      cx: 50
                      cy: 81
                      capture:
                        width: 90
                        height: 15
                      track:
                        width: 90
                        height: 10
                        radius: 1
                      thumb:
                        width: 5
                        height: 10
                        radius: 2.5
                      label:
                        # placement can be none, thumb, position (cx,cy)
                        placement: position
                        cx: 80
                        cy: 15
                    entity_index: 1
                    derived_entity:
                      input : '[[[ return state ]]]'
                      state: >
                        [[[
                          if (typeof(entity) === 'undefined') return;
                          if (typeof(state) === 'undefined') return;
                          
                          var bri = Math.round(state / 2.55);
                          return (bri ? bri : '0');
                        ]]]
                      unit: >
                        [[[
                          if (typeof(state) === 'undefined') return undefined;
                          return '%';
                        ]]]
                    show:
                      uom: end
                    slider_action:
                      service: light.turn_on
                      parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      label:
                        text-anchor: middle
                        font-size: 12em
                        font-weight: 600
                      track:
                        fill: url(#sak-light-brightness-gradient)
                        fill-opacity: 1
                        stroke-width: 0.1em
                        stroke: white
                      thumb:
                        stroke-width: 1.2em
                        stroke: var(--primary-background-color)
                        stroke-opacity: 1
                        fill: var(--primary-text-color)
                        fill-opacity: 0.8

        # 
        # Third ROW, second card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_couch_tv_left_light
              name: Bank TV Links
              area: Woonkamer
              icon: mdi:sofa
              tap_action:
                action: call-service
                service: light.toggle
                service_data: { "entity_id" : "light.livingroom_light_couch_tv_left_light" }
                haptic: light

            - entity: light.livingroom_light_couch_tv_left_light
              name: Bank TV Links
              area: Woonkamer
              icon: mdi:sofa
              attribute: brightness
              unit_of_measurement: "%"
              tap_action:
                action: more-info
                haptic: success

          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-switch--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-switch-off: true

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 25
                      cy: 25
                      align: center
                      icon_size: 30
                    entity_index: 0
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: jello 2s ease-in-out both
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: segarc
                    id: 0
                    entity_index: 1
                    position:
                      cx: 80
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 2
                      radius: 15
                    scale:
                      min: 0
                      max: 100
                    show:
                      scale: false
                      style: 'colorlist'
                    derived_entity:
                      input : '[[[ return state ]]]'
                      state: >
                        [[[
                          if (typeof(entity) === 'undefined') return;
                          if (typeof(state) === 'undefined') return;
                          
                          var bri = Math.round(state / 2.55);
                          return (bri ? bri : '0');
                        ]]]
                      unit: >
                        [[[
                          if (typeof(state) === 'undefined') return undefined;
                          return '%';
                        ]]]
                    segments:
                      colorlist:
                        gap: 1
                        colors:
                          - 'var(--primary-text-color)'
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

              - toolset: slidertest3
                position:
                  cx: 50
                  cy: 60
                tools:
                  # ------------------------------------------------------------
                  - type: slider2
                    descr: '#3 test slider'
                    position:
                      cx: 50
                      cy: 81
                      capture:
                        width: 90
                        height: 15
                      track:
                        width: 90
                        height: 10
                        radius: 1
                      thumb:
                        width: 5
                        height: 10
                        radius: 2.5
                      label:
                        # placement can be none, thumb, position (cx,cy)
                        placement: position
                        cx: 80
                        cy: 15
                    entity_index: 1
                    derived_entity:
                      input : '[[[ return state ]]]'
                      state: >
                        [[[
                          if (typeof(entity) === 'undefined') return;
                          if (typeof(state) === 'undefined') return;
                          
                          var bri = Math.round(state / 2.55);
                          return (bri ? bri : '0');
                        ]]]
                      unit: >
                        [[[
                          if (typeof(state) === 'undefined') return undefined;
                          return '%';
                        ]]]
                    show:
                      uom: end
                    slider_action:
                      service: light.turn_on
                      parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      label:
                        text-anchor: middle
                        font-size: 12em
                        font-weight: 600
                      track:
                        fill: url(#sak-light-brightness-gradient)
                        fill-opacity: 1
                        stroke-width: 0.1em
                        stroke: white
                      thumb:
                        stroke-width: 1.2em
                        stroke: var(--primary-background-color)
                        stroke-opacity: 1
                        fill: var(--primary-text-color)
                        fill-opacity: 0.8

        # 
        # Third ROW, third card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_cupboard_light
              name: Boekenkast
              area: Woonkamer
              icon: mdi:book-open-outline
              tap_action:
                action: call-service
                service: light.toggle
                service_data: { "entity_id" : "light.livingroom_light_cupboard_light" }
                haptic: light

            - entity: light.livingroom_light_cupboard_light
              name: Duo Rechts
              area: Woonkamer
              icon: mdi:floor-lamp-dual
              attribute: brightness
              unit_of_measurement: "%"
              tap_action:
                action: more-info
                haptic: success

          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # State rectangle at the top of the card. Colors with the state
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 2.5
                      width: 90
                      height: 5
                      radius:
                        top: 0
                        bottom: 2
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-switch--on: true
                      - state: 'off'
                        classes:
                          rectex:
                            sak-switch-off: true

                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 25
                      cy: 25
                      align: center
                      icon_size: 30
                    entity_index: 0
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: jello 2s ease-in-out both
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 10
                      cy: 55
                    entity_index: 0
                    classes:
                      name:
                        homekit-name__name: true

                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 10
                      cy: 70
                    entity_index: 0
                    classes:
                      area:
                        homekit-area__area: true

                  # ------------------------------------------------------------
                  - type: segarc
                    id: 0
                    entity_index: 1
                    position:
                      cx: 80
                      cy: 25
                      start_angle: 0
                      end_angle: 360
                      width: 2
                      radius: 15
                    scale:
                      min: 0
                      max: 100
                    show:
                      scale: false
                      style: 'colorlist'
                    derived_entity:
                      input : '[[[ return state ]]]'
                      state: >
                        [[[
                          if (typeof(entity) === 'undefined') return;
                          if (typeof(state) === 'undefined') return;
                          
                          var bri = Math.round(state / 2.55);
                          return (bri ? bri : '0');
                        ]]]
                      unit: >
                        [[[
                          if (typeof(state) === 'undefined') return undefined;
                          return '%';
                        ]]]
                    segments:
                      colorlist:
                        gap: 1
                        colors:
                          - 'var(--primary-text-color)'
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

              - toolset: slidertest3
                position:
                  cx: 50
                  cy: 60
                tools:
                  # ------------------------------------------------------------
                  - type: slider2
                    descr: '#3 test slider'
                    position:
                      cx: 50
                      cy: 81
                      orientation: horizontal
                      capture:
                        width: 90
                        height: 15
                      active:
                        height: 10
                        width: 80
                        radius: 2.5
                      track:
                        width: 90
                        height: 10
                        radius: 2.5
                      thumb:
                        width: 5
                        height: 10
                        radius: 2.5
                      label:
                        # placement can be none, thumb, position (cx,cy)
                        placement: position
                        cx: 80
                        cy: 15
                    entity_index: 1
                    derived_entity:
                      input : '[[[ return state ]]]'
                      state: >
                        [[[
                          if (typeof(entity) === 'undefined') return;
                          if (typeof(state) === 'undefined') return;
                          
                          var bri = Math.round(state / 2.55);
                          return (bri ? bri : '0');
                        ]]]
                      unit: >
                        [[[
                          if (typeof(state) === 'undefined') return undefined;
                          return '%';
                        ]]]
                    show:
                      uom: none
                      active: true
                    slider_action:
                      service: light.turn_on
                      parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      label:
                        text-anchor: middle
                        font-size: 12em
                        font-weight: 600
                      uom:
                        font-weight: 600
                      capture:
                        pointer-events: all
                        touch-action: none
                      active:
                        fill: url(#sak-light-brightness-gradient--orange) #white
                        pointer-events: none
                      track:
                        fill: url(#sak-light-brightness-gradient)
                        fill-opacity: 1
                        stroke-width: 0.1em
                        stroke: white
                        pointer-events: none
                      thumb:
                        stroke-width: 1.2em
                        stroke: var(--primary-background-color)
                        stroke-opacity: 1
                        fill: var(--primary-text-color)
                        fill-opacity: 0.8
                        pointer-events: none
                        transition: all .5s ease


# =================================
    - type: horizontal-stack
      cards:
        # 
        # Fourth ROW, first card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: sensor.room_temp_thermostat_calenta
              name: Actueel
            - entity: binary_sensor.slave_ch_active_boiler_calenta
              icon: 'mdi:radiator'
              name: Warmtevraag?
            - entity: binary_sensor.slave_dhw_active_boiler_calenta
              icon: 'mdi:shower'
              name: WW vraag?
            - entity: binary_sensor.slave_flame_on_boiler_calenta
              icon: 'mdi:fire'
              name: Brander Aan?
            - entity: sensor.control_setpoint_boiler_calenta
              name: Water setpoint
            - entity: sensor.ch_water_temp_boiler_calenta
              name: Water temp
            - entity: sensor.return_water_temp_boiler_calenta
              name: Retour temp
            - entity: sensor.room_setpoint_thermostat_calenta
              icon: 'mdi:thermostat-box'
              name: Gewenst
              decimals: 1
            - entity: sensor.studym_iaq_humidity
              unit: '%'
              decimals: 0
            #9
            - entity: weather.zoefdehaas
              attribute: temperature
              decimals: 1
              unit: 'Â°C'
              icon: mdi:thermometer
            - entity: weather.zoefdehaas
              attribute: humidity
              decimals: 0
              unit: '%'

            # sensor.room_setpoint_boiler_calenta 18.0 graden
            # sensor.room_setpoint_thermostat_calenta 19.5 graden --> wordt gebruikt...
            
          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 3
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                        styles:
                          rectex:
                            animation-fill-mode: forwards
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # ------------------------------------------------------------
                  # Brander aan?
                  - type: icon
                    position:
                      cx: 50
                      cy: 72
                      align: center
                      icon_size: 22
                    entity_index: 3
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: pulse 2s ease-in-out infinite
                            animation-fill-mode: forwards
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Warmtevraag ??
                  - type: icon
                    position:
                      cx: 30
                      cy: 72
                      align: center
                      icon_size: 15
                    entity_index: 1
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            # animation: jello 2s ease-in-out both
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Warmwater vraag?
                  - type: icon
                    position:
                      cx: 70
                      cy: 72
                      align: center
                      icon_size: 15
                    entity_index: 2
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--md-fg-color--alert)
                            color: var(--md-fg-color--alert)
                            animation: jello 2s ease-in-out both
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--primary-text-color)
                            color: var(--primary-text-color)
                    styles:
                      icon:
                        fill: var(--primary-text-color)
                        color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Line separator
                  - type: line
                    position:
                      cx: 50
                      cy: 45
                      length: 50
                      orientation: horizontal
                    styles:
                      line:
                        stroke-width: 1em
                        fill: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Room temperature according to thermostat
                  - type: state
                    position:
                      cx: 25
                      cy: 55
                    entity_index: 0
                    styles:
                      state:
                        text-anchor: start
                        font-size: 9em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  # Room humidity
                  - type: state
                    position:
                      cx: 75
                      cy: 55
                    entity_index: 8
                    styles:
                      state:
                        text-anchor: end
                        font-size: 9em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # # ------------------------------------------------------------
                  # # Outside temperature
                  # - type: state
                    # position:
                      # cx: 65
                      # cy: 22
                    # entity_index: 9
                    # styles:
                      # state:
                        # text-anchor: middle
                        # font-size: 7em
                        # font-weight: 700
                        # fill: var(--primary-text-color)
                      # uom:
                        # fill: var(--primary-text-color)
                        # font-weight: 700

                  # # ------------------------------------------------------------
                  # # Outside humidity
                  # - type: state
                    # position:
                      # cx: 65
                      # cy: 32
                    # entity_index: 10
                    # styles:
                      # state:
                        # text-anchor: middle
                        # font-size: 7em
                        # font-weight: 700
                        # fill: var(--primary-text-color)
                      # uom:
                        # fill: var(--primary-text-color)
                        # font-weight: 700

                  # ------------------------------------------------------------
                  # Room temperature
                  - type: segarc
                    id: 0
                    entity_index: 0
                    position:
                      cx: 50
                      cy: 50
                      start_angle: -120
                      end_angle: 120
                      width: 5
                      radius: 40
                    scale:
                      min: 17
                      max: 23
                      width: 2
                      offset: 2
                    show:
                      scale: true
                      style: 'colorstops'
                    segments:
                      colorstops:
                        template:
                          name: colorstops_boiler_setpoint_blue2orange
                          variables:
                            - thegap: 1
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

                  # ------------------------------------------------------------
                  # Setpoint
                  - type: segarc
                    id: 0
                    entity_index: 7
                    position:
                      cx: 50
                      cy: 50
                      start_angle: -120
                      end_angle: 120
                      width: 2
                      radius: 38.5
                    scale:
                      min: 17
                      max: 23
                      width: 2
                      offset: 2
                    show:
                      scale: false
                      style: 'colorstops'
                    segments:
                      colorstops:
                        template:
                          name: colorstops_boiler_setpoint_blue2orange
                          variables:
                            - thegap: 1
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: none  #var(--cs-theme-default-darken-15)

              - toolset: slidertest3
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: slider2
                    descr: '#3 test slider'
                    position:
                      cx: 50
                      cy: 90
                      orientation: horizontal
                      capture:
                        width: 90
                        height: 15
                      active:
                        # height: 1
                        height: 8
                        width: 80
                        radius: 2
                      track:
                        width: 90
                        # height: 8
                        height: 6
                        radius: 2
                      thumb:
                        width: 4
                        height: 10
                        radius: 2
                      label:
                        # placement can be none, thumb, position (cx,cy)
                        placement: position
                        cx: 50
                        cy: 32.5
                    entity_index: 7
                    show:
                      uom: none
                      active: true
                    slider_action:
                      service: climate.set_temperature
                      # Override entity_id. Otherwise entity_index is used...
                      entity_id: climate.calenta
                      parameter: temperature
                    scale:
                      min: 17
                      max: 23
                      step: 0.5
                    styles:
                      label:
                        text-anchor: middle
                        font-size: 20em
                        font-weight: 900
                      uom:
                        font-weight: 600
                      capture:
                        pointer-events: all
                        touch-action: none
                      active:
                        # fill: white
                        fill: url(#sak-boiler-setpoint-blue-orange-gradient)
                        stroke: var(--primary-background-color)
                        stroke-width: 0.5em
                        pointer-events: none
                      track:
                        # fill: url(#sak-boiler-setpoint-blue-orange-gradient)
                        fill: var(--cs-theme-default-darken-15)
                        fill-opacity: 1
                        pointer-events: none
                      thumb:
                        stroke-width: 0.5em
                        stroke: var(--primary-background-color)
                        stroke-opacity: 1
                        fill: var(--primary-text-color)
                        fill-opacity: 1
                        pointer-events: none
                        transition: all .5s ease

        # 
        # Fourth ROW, second card
        #
        ########################################################################


        # - type: 'custom:dev-swiss-army-knife-card'

          # # Define aspect ratio as square
          # aspectratio: 1/1

          # disable_card: true

          # layout:
            # styles:
              # card:
              # toolsets:
              
            # # We need some dummy toolset for an empty card used as filler
            # toolsets:
              # # ================================================================
              # - toolset: empty-card
                # position:
                  # cx: 50
                  # cy: 50
                # tools:
                  # - type: rectex
                    # position:
                      # cx: 50
                      # cy: 50
                      # width: 100
                      # height: 100
                      # radius:
                        # top: 0
                        # bottom: 0

        # 
        # Fourth ROW, first card
        #
        ########################################################################

        - type: 'custom:dev-swiss-army-knife-card'
          entities:
            - entity: binary_sensor.slave_flame_on_boiler_calenta
              icon: 'mdi:fire'
              name: Brander Aan?
            - entity: sensor.control_setpoint_boiler_calenta
              name: Setpoint
              decimals: 1
            - entity: sensor.ch_water_temp_boiler_calenta
              name: Actual
              decimals: 1
            - entity: sensor.return_water_temp_boiler_calenta
              name: Return
              decimals: 1
            
          # Define aspect ratio as square
          aspectratio: 1/1

          layout:
            styles:
              card:
              toolsets:
              
            toolsets:
              # ================================================================
              - toolset: square-state
                position:
                  cx: 50
                  cy: 50
                tools:
                  # Background used for active / inactive card
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      radius:
                        top: 0
                        bottom: 0
                    entity_index: 0
                    animations:
                      - state: 'on'
                        classes:
                          rectex:
                            sak-card--on: true
                        styles:
                          rectex:
                            animation-fill-mode: forwards
                      - state: 'off'
                        classes:
                          rectex:
                            sak-card--off: true

                  # # ------------------------------------------------------------
                  # # Brander aan?
                  # - type: icon
                    # position:
                      # cx: 50
                      # cy: 50
                      # align: center
                      # icon_size: 15
                    # entity_index: 0
                    # animations:
                      # - state: 'on'
                        # styles:
                          # icon:
                            # fill: var(--md-fg-color--alert)
                            # color: var(--md-fg-color--alert)
                            # animation: pulse 2s ease-in-out infinite
                            # animation-fill-mode: forwards
                      # - state: 'off'
                        # styles:
                          # icon:
                            # fill: var(--primary-text-color)
                            # color: var(--primary-text-color)
                    # styles:
                      # icon:
                        # fill: var(--primary-text-color)
                        # color: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Water setpoint temperature
                  - type: segarc
                    id: 0
                    entity_index: 1
                    position:
                      cx: 50
                      cy: 35
                      start_angle: 0
                      end_angle: 360
                      width: 18
                      radius: 18
                    scale:
                      min: 0
                      max: 60
                      width: 2
                      offset: 2
                    show:
                      scale: false
                      style: 'colorstops'
                      lastcolor: true
                    segments:
                      colorstops:
                        template:
                          name: colorstops_boiler_water_blue2orange
                          variables:
                            - thegap: -0.5
                            - theStroke: true
                            - theFill: false
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                        stroke-width: 0.5em
                      background:
                        fill: var(--cs-theme-default-darken-15)
                        stroke-width: 0.5em

                  # ------------------------------------------------------------
                  # Water setpoint temperature
                  - type: state
                    position:
                      cx: 50
                      cy: 35
                    entity_index: 1
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 9em
                        font-weight: 700
                        fill: white #var(--primary-text-color)
                      uom:
                        fill: white #var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  # Water actual temperature
                  - type: name
                    position:
                      cx: 50
                      cy: 10
                    entity_index: 1
                    styles:
                      name:
                        text-anchor: middle
                        font-size: 8em
                        font-weight: 700
                        fill: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Water actual temperature
                  - type: segarc
                    id: 0
                    entity_index: 2
                    position:
                      cx: 75
                      cy: 65
                      start_angle: 0
                      end_angle: 360
                      width: 3
                      radius: 18
                    scale:
                      min: 0
                      max: 60
                      width: 2
                      offset: 2
                    show:
                      scale: false
                      style: 'colorstops'
                      lastcolor: true
                    segments:
                      colorstops:
                        template:
                          name: colorstops_boiler_water_blue2orange
                          variables:
                            - thegap: 1
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

                  # ------------------------------------------------------------
                  # Water actual temperature
                  - type: state
                    position:
                      cx: 75
                      cy: 65
                    entity_index: 2
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 9em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  # Water actual temperature
                  - type: name
                    position:
                      cx: 75
                      cy: 90
                    entity_index: 2
                    styles:
                      name:
                        text-anchor: middle
                        font-size: 8em
                        font-weight: 700
                        fill: var(--primary-text-color)

                  # ------------------------------------------------------------
                  # Water return temperature
                  - type: segarc
                    id: 0
                    entity_index: 3
                    position:
                      cx: 25
                      cy: 65
                      start_angle: 0
                      end_angle: 360
                      width: 3
                      radius: 18
                    scale:
                      min: 0
                      max: 60
                      width: 2
                      offset: 2
                    show:
                      scale: false
                      style: 'colorstops'
                      lastcolor: true
                    segments:
                      colorstops:
                        template:
                          name: colorstops_boiler_water_blue2orange
                          variables:
                            - thegap: 1
                    animation:
                      duration: 5
                    styles:
                      foreground:
                        fill: var(--primary-text-color)
                      background:
                        fill: var(--cs-theme-default-darken-15)

                  # ------------------------------------------------------------
                  # Water return temperature
                  - type: state
                    position:
                      cx: 25
                      cy: 65
                    entity_index: 3
                    styles:
                      state:
                        text-anchor: middle
                        font-size: 9em
                        font-weight: 700
                        fill: var(--primary-text-color)
                      uom:
                        fill: var(--primary-text-color)
                        font-weight: 700

                  # ------------------------------------------------------------
                  # Water return temperature
                  - type: name
                    position:
                      cx: 25
                      cy: 90
                    entity_index: 3
                    styles:
                      name:
                        text-anchor: middle
                        font-size: 8em
                        font-weight: 700
                        fill: var(--primary-text-color)
