#
# View			: view-functional-card-examples.yml
# Project   : Home Assistant / Swiss Army Knife custom card.
# Repository: https://github.com/AmoebeLabs/swiss-army-knife-card
#
# Author    : Mars @ AmoebeLabs.com
# 
# License   : CC BY-SA, https://creativecommons.org/licenses/by/4.0/
#
# -----
# Description:
#
# Refs:
#   
################################################################################

title: FCE
path: fce
panel: false
cards:
  - type: vertical-stack
    cards:
      # ========================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Total'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l1
              name: 'L1'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l2
              name: 'L2'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l3
              name: 'L3'
          layout:
            template:
              name: sak_layout_fce_electricity1

    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Total'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l1
              name: 'L1'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l2
              name: 'L2'
            - entity: sensor.dsmr_reading_phase_currently_delivered_l3
              name: 'L3'
          aspectratio: 2/1.2
          layout:
            styles:
              card:
            toolsets:
              # ===============================================================
              - toolset: card-title
                position:
                  cx: 20
                  cy: 32.5
                tools:
                  # ------------------------------------------------------------
                  - type: text
                    position:
                      cx: 50
                      cy: 30
                    text: "Electricity Usage"
                    styles:
                      text:
                        text-anchor: start
                        font-size: 10em
                        font-weight: 400
                        opacity: 0.7

              # ===============================================================
              - toolset: graph-phase-total
                position:
                  cx: 30
                  cy: &phase_cy 45
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: &rectex_phase_pos
                      cx: 50
                      cy: 50
                      width: 30
                      height: 50
                      radius:
                        all: 0
                    styles: &rectex_phase_style
                      rectex:
                        fill: none #var(--theme-sys-elevation-surface-neutral2)
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: &graph_phase_pos
                      cx: 50
                      cy: 50
                      width: 20
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 2
                    colorstops_transition: hard
                    colorstops: &graph_phase_colorstops
                      - value: 0 
                        color: 'green' #'darkgreen'
                      - value: 0.1
                        color: '#49ce4c' #'green'
                      - value: 0.25
                        color: '#fee08b'
                      - value: 0.5
                        color: '#fdae61'
                      - value: 1
                        color: '#f46d43'
                      - value: 1.5
                        color:  '#d53e4f'
                      - value: 2
                        color: '#9e0142'
                    styles: &trafficlight_phase_styles
                      graded_background:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
                      graded_foreground:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
                  # ------------------------------------------------------------
                  - type: name
                    position: &name_phase_pos
                      cx: 50
                      cy: 85
                    entity_indexes:
                      - entity_index: 0
                    styles:
                      tool:
                      name: &name_phase_styling
                        text-anchor: middle
                        font-size: 10em
                        font-weight: 500
                        opacity: 0.6
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear

                  # ------------------------------------------------------------
                  - type: state
                    position: &state_phase_state_pos
                      cx: 50
                      cy: 105
                    entity_indexes:
                      - entity_index: 0
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: &state_phase_styling
                        text-anchor: middle
                        font-size: 10em
                        font-weight: 600
                        # fill: var(--primary-background-color)
                        transition: opacity 0.5s linear

              # ===============================================================
              - toolset: graph-phase-l1
                position:
                  cx: 85
                  cy: *phase_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_phase_pos
                    styles: *rectex_phase_style
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_phase_pos
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops: *graph_phase_colorstops
                    styles: *trafficlight_phase_styles

                  # ------------------------------------------------------------
                  - type: name
                    position: *name_phase_pos
                    entity_indexes:
                      - entity_index: 1
                    styles:
                      tool:
                      name: *name_phase_styling
                  # ------------------------------------------------------------
                  - type: state
                    position: *state_phase_state_pos
                    entity_indexes:
                      - entity_index: 1
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_phase_styling

              # ===============================================================
              - toolset: graph-phase-l2
                position:
                  cx: 125
                  cy: *phase_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_phase_pos
                    styles: *rectex_phase_style

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_phase_pos
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops: *graph_phase_colorstops
                    styles: *trafficlight_phase_styles
                  # ------------------------------------------------------------
                  - type: name
                    position: *name_phase_pos
                    entity_indexes:
                      - entity_index: 2
                    styles:
                      tool:
                      name: *name_phase_styling
                  # ------------------------------------------------------------
                  - type: state
                    position: *state_phase_state_pos
                    entity_indexes:
                      - entity_index: 2
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_phase_styling

              # ===============================================================
              - toolset: graph-phase-l3
                position:
                  cx: 165
                  cy: *phase_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_phase_pos
                    styles: *rectex_phase_style

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_phase_pos
                    entity_index: 3
                    entity_indexes:
                      - entity_index: 3
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops: *graph_phase_colorstops
                    styles: *trafficlight_phase_styles

                  # ------------------------------------------------------------
                  - type: name
                    position: *name_phase_pos
                    entity_indexes:
                      - entity_index: 3
                    styles:
                      tool:
                      name: *name_phase_styling
                  # ------------------------------------------------------------
                  - type: state
                    position: *state_phase_state_pos
                    entity_indexes:
                      - entity_index: 3
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_phase_styling

        # x.2 ============================================================
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Total Electricity'
          aspectratio: 2/1
          layout:
            styles:
              card:
            toolsets:
              # ===============================================================
              # - toolset: card-title
              #   position:
              #     cx: 20
              #     cy: 32.5
              #   tools:
              #     # ------------------------------------------------------------
              #     - type: text
              #       position:
              #         cx: 50
              #         cy: 30
              #       text: "Electricity Usage"
              #       styles:
              #         text:
              #           text-anchor: start
              #           font-size: 10em
              #           font-weight: 400
              #           opacity: 0.7

              # ===============================================================
              - toolset: graph-phase-total
                position:
                  cx: 115
                  cy: 47.5
                  rotate: 90
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 70
                      width: 35
                      height: 140
                      radius:
                        all: 1
                    styles:
                      rectex:
                        fill: var(--theme-sys-elevation-surface-neutral9)
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 70
                      width: 25
                      height: 130
                      margin:
                        l: 0
                        x: 0
                        y: 0
                        r: 0
                        t: 5
                        b: 35
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 0.5
                    bar_spacing: 10
                    colorstops_transition: hard
                    colorstops:
                    # 10 steps green to red
                    # '#009344', 3ca444, 7bb741, b5ca3c
                    # ebda4a, e7bc3d, dc993e
                    # d2773d, c9563f, be343e
                      - value: 0 
                        color: 'green'
                      - value: 0.1
                        color: '#3ca444' #'#49ce4c'
                      - value: 0.2
                        color: '#7bb741'
                      - value: 0.3
                        color: '#b5ca3c'
                      - value: 0.5
                        color: '#ebda4a'
                      - value: 1.0
                        color: '#e7bc3d'
                      - value: 1.5
                        color: '#dc993e'
                      - value: 2
                        color: '#f46d43'
                      - value: 2.5
                        color: '#d53e4f'
                      - value: 3
                        color: '#9e0142'
                    styles:
                      # tool:
                      #   transform: rotate(90deg)
                      graded_background:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
                      graded_foreground:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
              # ===============================================================
              - toolset: graph-phase-state
                position:
                  cx: 45
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 190
                      cy: 35
                    entity_indexes:
                      - entity_index: 0
                    styles:
                      tool:
                      name:
                        text-anchor: end
                        font-size: 12em
                        font-weight: 600
                        opacity: 0.8
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 70
                      height: 70
                      radius:
                        all: 25
                    styles:
                      rectex:
                        fill: var(--theme-sys-elevation-surface-neutral9)

                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 50
                      width: 60
                      height: 60
                      radius:
                        all: 20
                    styles:
                      rectex:
                        fill: var(--primary-background-color)
                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 50
                      cy: 32.5
                      align: center
                      icon_size: 20
                    entity_index: 0

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: 52.5
                    entity_indexes:
                      - entity_index: 0
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state:
                        text-anchor: middle
                        font-size: 16em
                        font-weight: 600
                        # fill: var(--primary-background-color)
                        transition: opacity 0.5s linear

    - type: grid
      columns: 1
      square: false
      cards:
        # x.3 ============================================================
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Total Electricity'
          aspectratio: 4/1
          layout:
            styles:
              card:
            toolsets:
              # ===============================================================
              - toolset: graph-phase-total
                position:
                  cx: 115
                  cy: 47.5
                  rotate: 90
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position:
                      cx: 50
                      cy: 70
                      width: 35
                      height: 140
                      radius:
                        all: 1
                    styles:
                      rectex:
                        fill: var(--theme-sys-elevation-surface-neutral9)
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 70
                      width: 25
                      height: 130
                      margin:
                        l: 0
                        x: 0
                        y: 0
                        r: 0
                        t: 5
                        b: 35
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                    square: false
                    line_width : 0.5
                    bar_spacing: 10
                    colorstops_transition: hard
                    colorstops:
                    # 10 steps green to red
                    # '#009344', 3ca444, 7bb741, b5ca3c
                    # ebda4a, e7bc3d, dc993e
                    # d2773d, c9563f, be343e
                      - value: 0 
                        color: 'green'
                      - value: 0.1
                        color: '#3ca444' #'#49ce4c'
                      - value: 0.2
                        color: '#7bb741'
                      - value: 0.3
                        color: '#b5ca3c'
                      - value: 0.5
                        color: '#ebda4a'
                      - value: 1.0
                        color: '#e7bc3d'
                      - value: 1.5
                        color: '#dc993e'
                      - value: 2
                        color: '#f46d43'
                      - value: 2.5
                        color: '#d53e4f'
                      - value: 3
                        color: '#9e0142'
                    styles:
                      # tool:
                      #   transform: rotate(90deg)
                      graded_background:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
                      graded_foreground:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(20deg)
              # ===============================================================
              - toolset: graph-phase-state
                position:
                  cx: 45
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 190
                      cy: 35
                    entity_indexes:
                      - entity_index: 0
                    styles:
                      tool:
                      name:
                        text-anchor: end
                        font-size: 12em
                        font-weight: 600
                        opacity: 0.8
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear
                  # ------------------------------------------------------------
                  - type: circle
                    position:
                      cx: 50
                      cy: 50
                      radius: 32.5      # subtract stroke-width / 2
                    styles:
                      circle:
                        stroke-width: 5em
                        stroke: var(--theme-sys-elevation-surface-neutral9)
                        fill: var(--primary-background-color)
                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 50
                      cy: 32.5
                      align: center
                      icon_size: 20
                    entity_index: 0

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: 52.5
                    entity_indexes:
                      - entity_index: 0
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state:
                        text-anchor: middle
                        font-size: 16em
                        font-weight: 600
                        # fill: var(--primary-background-color)
                        transition: opacity 0.5s linear
              # ===============================================================
              - toolset: graph-phase-state
                position:
                  cx: 300
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 180
                      height: 70
                      margin:
                        l: 0
                        x: 0
                        y: 0
                        r: 0
                        t: 1
                        b: 1
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: equalizer #trafficlight
                      fill: false    # fade, none
                      points: false
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0    # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 0.5
                      # rolling_window:
                      #   duration:
                      #     hour: 24
                      #   bins: 
                      #     per_hour: 1
                    value_buckets: 12
                    state_values:
                      logarithmic: false #true Does NOT work with equalizer!!!!
                      value_factor: 1000
                      lower_bound: 50
                    x_lines:
                      lines:
                        - name: x_axis
                          zpos: below 
                          yshift: 37
                        - name: ticks
                          zpos: below 
                          yshift: 38
                    bar_spacing: 4
                    line_width : 1  # To prevent two colors around zero y axis
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                    styles:
                      x_axis:
                        stroke: lightgray
                        stroke-width: 0.2rem
                      ticks:
                        stroke: lightgray
                        stroke-dasharray: 1, 118.5
                        stroke-dashoffset: 0
                        stroke-width: 1rem
                      equalizer_part:
                        transition: fill 2s ease
                        transform-origin: center
                        transform-box: fill-box
                        transform: skewY(10deg)

    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_score
              name: 'Score'
              area: 'Study'
            - entity: sensor.awair_element_study_temperature
              name: 'Temp'
              area: 'Study'
            - entity: sensor.awair_element_study_humidity
              name: 'Humidity'
              area: 'Study'
              decimals: 0
            - entity: sensor.awair_element_study_carbon_dioxide
              name: 'CO2'
              area: 'Study'
            - entity: sensor.awair_element_study_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Study'
            - entity: sensor.awair_element_study_pm2_5
              name: 'PM2.5'
              area: 'Study'
          aspectratio: 3/3.45
          layout:
            styles:
              card:
            toolsets:
              # ===============================================================
              - toolset: graph-title-and-location
                position:
                  cx: 15
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: text
                    position:
                      cx: 50
                      cy: 30
                    text: "Today's AQI"
                    styles:
                      text:
                        text-anchor: start
                        font-size: 15em
                        font-weight: 400
                        opacity: 0.7
                  # ------------------------------------------------------------
                  - type: area
                    position:
                      cx: 50
                      cy: 50
                    entity_indexes:
                      - entity_index: 0
                    styles:
                      tool:
                      area:
                        text-anchor: start
                        font-size: 20em
                        font-weight: 600
                        fill: var(--primary-text-color)

              # ===============================================================
              - toolset: graph-score-arc-state
                position:
                  cx: 150
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: circle
                    position:
                      cx: 50
                      cy: 50
                      radius: 28
                    entity_index: 0
                    styles:
                      circle:
                        fill: var(--primary-background-color)
                    animations:
                      - state: '60'
                        operator: <=
                        styles:
                          circle:
                            fill: '#e63740'
                      - state: '80'
                        operator: <=
                        styles:
                          circle:
                            fill: '#fb8600'
                      - state: '100'
                        operator: <=
                        styles:
                          circle:
                            fill: '#49ce4c'
                  # ------------------------------------------------------------
                  - type: 'segarc'
                    entity_index: 0
                    position:
                      cx: 50
                      cy: 50
                      start_angle: 0
                      end_angle: 360
                      width: 3
                      radius: 35
                    scale:
                      min: 0
                      max: 100
                    show:
                      scale: false
                      style: 'colorstops'
                      lastcolor: true
                    segments:
                      colorstops:
                        gap: 0
                        colors:
                          00: '#e63740'
                          60: '#fb8600'
                          80: '#49ce4c'
                    styles:
                      foreground:
                        fill: var(--theme-gradient-color-02)
                      background:
                        fill: var(--primary-background-color)
                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: 50
                    entity_indexes:
                      - entity_index: 0
                    show:
                      uom: none
                    styles:
                      tool:
                      state:
                        text-anchor: middle
                        font-size: 25em
                        font-weight: 400
                        fill: var(--primary-background-color)
                        transition: opacity 0.5s linear

              # ===============================================================
              - toolset: graph-score-area
                position:
                  cx: 150
                  cy: 120
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 54
                      width: 270
                      height: 50
                      margin:
                        l: 0
                        x: 0
                        y: 0
                        r: 0
                        t: 0
                        b: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: area
                      fill: fade
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                    state_values:
                      aggregate_func: avg
                    area: 
                      fill: fade
                    x_lines:
                      lines:
                        - name: x_axis
                          zpos: below 
                          yshift: 27
                        - name: ticks
                          zpos: below 
                          yshift: 28
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#e63740'
                        # Just an idea to have colors for fill and stroke
                        # if absent, color is used!
                        fill: '#e63740'
                        stroke: '#e63740'
                        rank: 2
                      - value: 61
                        color: '#fb8600'
                        rank: 1
                      - value: 81
                        color: '#49ce4c'
                        rank: 0
                    styles:
                      tool:
                        opacity: 0.5
                      x_axis:
                        stroke: lightgray
                        stroke-width: 0.2rem
                      ticks:
                        stroke: lightgray
                        stroke-dasharray: 1, 118.5
                        stroke-dashoffset: 0
                        stroke-width: 1.5rem

              # ===============================================================
              - toolset: graph-sensors-text-divider
                position:
                  cx: 15
                  cy: 200
                tools:
                  # ------------------------------------------------------------
                  - type: text
                    position:
                      cx: 50
                      cy: 20
                    text: "Sensors with actual state and average per 30 minutes"
                    styles:
                      text:
                        text-anchor: start
                        font-size: 11em
                        font-weight: 400
                        opacity: 0.7

              # ===============================================================
              - toolset: graph-sensor-temp
                position:
                  cx: 40
                  cy: &sensor_cy 220
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: &rectex_pos
                      cx: 50
                      cy: 55
                      width: 20
                      height: 70
                      radius:
                        all: 10
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: &graph_pos
                      cx: 50
                      cy: 55
                      width: 10
                      height: 60
                      margin: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                      # rolling_window:
                      #   duration:
                      #     hour: 1 #0.1
                      #   bins: 
                      #     per_hour: 1
                    state_values:
                      aggregate_func: last
                      # fixed_value: true
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: -1000
                        color: '#e63740'
                        rank: 4
                      - value:  9
                        color: '#fb8600'
                        rank: 3
                      - value: 11
                        color: '#faaa00'
                        rank: 2
                      - value: 17
                        color: '#fdd125'
                        rank: 1
                      - value: 18
                        color: '#49ce4c'
                        rank: 0
                      - value: 25
                        color: '#fdd125'
                        rank: 1
                      - value: 26
                        color: '#faaa00'
                        rank: 2
                      - value: 31
                        color: '#fb8600'
                        rank: 3
                      - value: 33
                        color: '#e63740'
                        rank: 4
                    styles: &trafficlight_styles
                      graded_background:
                        transition: fill 2s ease
                        rx: 50%
                        fill: none
                      graded_foreground:
                        transition: fill 2s ease
                        rx: 50%
                        fill: none
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: &cy_name 100
                    entity_indexes:
                      - entity_index: 1
                    styles:
                      tool:
                      name: &name_styling
                        text-anchor: middle
                        font-size: 10em
                        font-weight: 500
                        opacity: 0.6
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear
                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: &cy_state 120
                    entity_indexes:
                      - entity_index: 1
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: &state_settings
                        text-anchor: middle
                        font-size: 12em
                        font-weight: 600
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear
                        alignment-baseline: middle 
                      uom: &uom_settings
                        opacity: 1
                        fill: var(--primary-text-color)
                        font-weight: 400
                        transition: opacity 0.5s linear
                        alignment-baseline: hanging

                  # ------------------------------------------------------------
                  - type: sparkline
                    position: &audio_pos
                      cx: 50
                      cy: 155
                      width: 40
                      height: 20
                      margin:
                        x: 0
                        y: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                        group_by: date
                    state_values:
                      aggregate_func: avg
                      use_value: bin
                      lower_bound: -1
                      upper_bound: 4
                    line_width : 0.1
                    bar_spacing: 1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                    colorstops_transition: hard
                    colorstops:
                      - value: -1000
                        color: '#e63740'
                        rank: 4
                      - value:  9
                        color: '#fb8600'
                        rank: 3
                      - value: 11
                        color: '#faaa00'
                        rank: 2
                      - value: 17
                        color: '#fdd125'
                        rank: 1
                      - value: 18
                        color: '#49ce4c'
                        rank: 0
                      - value: 25
                        color: '#fdd125'
                        rank: 1
                      - value: 26
                        color: '#faaa00'
                        rank: 2
                      - value: 31
                        color: '#fb8600'
                        rank: 3
                      - value: 33
                        color: '#e63740'
                        rank: 4
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      barcode_graph: &timeline_graph_styles
                        opacity: 0.6

              # ===============================================================
              - toolset: graph-sensor-humi-90deg
                position:
                  cx: 95
                  cy: *sensor_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_pos
                  # ------------------------------------------------------------
                  - type: sparkline
                    position: *graph_pos
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                    state_values:
                      aggregate_func: last
                      # fixed_value: true
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#e63740'
                        rank: 4
                      - value: 15.50
                        color: '#fb8600'
                        rank: 3
                      - value: 20.9509
                        color: '#faaa00'
                        rank: 2
                      - value: 35.50
                        color: '#fdd125'
                        rank: 1
                      - value: 39.50
                        color: '#49ce4c'
                        rank: 0
                      - value: 49.50
                        color: '#fdd125'
                        rank: 1
                      - value: 59.50
                        color: '#faaa00'
                        rank: 2
                      - value: 64.50
                        color: '#fb8600'
                        rank: 3
                      - value: 79.50
                        color: '#e63740'
                        rank: 4
                    styles: *trafficlight_styles
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: *cy_name
                    entity_indexes:
                      - entity_index: 2
                    styles:
                      tool:
                      name: *name_styling
                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: *cy_state
                    entity_indexes:
                      - entity_index: 2
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_settings
                      uom: *uom_settings
                  # ------------------------------------------------------------
                  - type: sparkline
                    position: *audio_pos
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                    state_values:
                      aggregate_func: avg
                      use_value: bin
                      lower_bound: -1
                      upper_bound: 4
                    line_width : 0.1
                    bar_spacing: 1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: '#e63740'
                        rank: 4
                      - value: 15.50
                        color: '#fb8600'
                        rank: 3
                      - value: 20.50
                        color: '#faaa00'
                        rank: 2
                      - value: 35.50
                        color: '#fdd125'
                        rank: 1
                      - value: 39.50
                        color: '#49ce4c'
                        rank: 0
                      - value: 49.50
                        color: '#fdd125'
                        rank: 1
                      - value: 59.50
                        color: '#faaa00'
                        rank: 2
                      - value: 64.50
                        color: '#fb8600'
                        rank: 3
                      - value: 79.50
                        color: '#e63740'
                        rank: 4
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      barcode_graph: *timeline_graph_styles

              # ===============================================================
              - toolset: graph-sensor-co2
                position:
                  cx: 150
                  cy: *sensor_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_pos
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_pos
                    entity_index: 3
                    entity_indexes:
                      - entity_index: 3
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                      # rolling_window:
                      #   duration:
                      #     hour: 0.1
                      #   bins: 
                      #     per_hour: 1
                      # hours_to_show: 0.1
                      # bins_per_hour: 1
                    state_values:
                      aggregate_func: last
                      # fixed_value: true
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 600
                        color: '#fdd125'
                        rank: 1
                      - value: 1000
                        color: '#faaa00'
                        rank: 2
                      - value: 1500
                        color: '#fb8600'
                        rank: 3
                      - value: 2500
                        color: '#e63740'
                        rank: 4
                    styles: *trafficlight_styles

                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: *cy_name
                    entity_indexes:
                      - entity_index: 3
                    styles:
                      tool:
                      name: *name_styling

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: *cy_state
                    entity_indexes:
                      - entity_index: 3
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_settings
                      uom: *uom_settings
                  # ------------------------------------------------------------
                  - type: sparkline
                    position: *audio_pos
                    entity_index: 3
                    entity_indexes:
                      - entity_index: 3
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 2
                    state_values:
                      aggregate_func: avg
                    line_width : 0.1
                    bar_spacing: 1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 600
                        color: '#fdd125'
                        rank: 1
                      - value: 1000
                        color: '#faaa00'
                        rank: 2
                      - value: 1500
                        color: '#fb8600'
                        rank: 3
                      - value: 2500
                        color: '#e63740'
                        rank: 4
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      barcode_graph: *timeline_graph_styles

              # ===============================================================
              - toolset: graph-sensor-voc
                position:
                  cx: 205
                  cy: *sensor_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_pos
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_pos
                    entity_index: 4
                    entity_indexes:
                      - entity_index: 4
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                      # rolling_window:
                      #   duration:
                      #     hour: 0.1
                      #   bins: 
                      #     per_hour: 1
                      # hours_to_show: 0.1
                      # bins_per_hour: 1
                    state_values:
                      aggregate_func: last
                      # fixed_value: true
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 333
                        color: '#fdd125'
                        rank: 1
                      - value: 1000
                        color: '#faaa00'
                        rank: 2
                      - value: 3333
                        color: '#fb8600'
                        rank: 3
                      - value: 8332
                        color: '#e63740'
                        rank: 4
                    styles: *trafficlight_styles
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: *cy_name
                    entity_indexes:
                      - entity_index: 4
                    styles:
                      tool:
                      name: *name_styling

                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: *cy_state
                    entity_indexes:
                      - entity_index: 4
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_settings
                      uom: *uom_settings
                  # ------------------------------------------------------------
                  - type: sparkline
                    position: *audio_pos
                    entity_index: 4
                    entity_indexes:
                      - entity_index: 4
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 2
                    state_values:
                      aggregate_func: avg
                    line_width : 0.1
                    bar_spacing: 1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 333
                        color: '#fdd125'
                        rank: 1
                      - value: 1000
                        color: '#faaa00'
                        rank: 2
                      - value: 3333
                        color: '#fb8600'
                        rank: 3
                      - value: 8332
                        color: '#e63740'
                        rank: 4
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      barcode_graph: *timeline_graph_styles

              # ===============================================================
              - toolset: graph-sensor-pm25
                position:
                  cx: 260
                  cy: *sensor_cy
                tools:
                  # ------------------------------------------------------------
                  - type: rectex
                    position: *rectex_pos
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position: *graph_pos
                    entity_index: 5
                    entity_indexes:
                      - entity_index: 5
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                      # rolling_window:
                      #   duration:
                      #     hour: 0.1
                      #   bins: 
                      #     per_hour: 1
                      # hours_to_show: 0.1
                      # bins_per_hour: 1
                    state_values:
                      aggregate_func: last
                      # fixed_value: true
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 15
                        color: '#fdd125'
                        rank: 1
                      - value: 35
                        color: '#faaa00'
                        rank: 2
                      - value: 55
                        color: '#fb8600'
                        rank: 3
                      - value: 75
                        color: '#e63740'
                        rank: 4
                    styles: *trafficlight_styles
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: *cy_name
                    entity_indexes:
                      - entity_index: 5
                    styles:
                      tool:
                      name: *name_styling
                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 50
                      cy: *cy_state
                    entity_indexes:
                      - entity_index: 5
                    show:
                      uom: bottom
                    styles:
                      tool:
                      state: *state_settings
                      uom: *uom_settings
                  # ------------------------------------------------------------
                  - type: sparkline
                    position: *audio_pos
                    entity_index: 5
                    entity_indexes:
                      - entity_index: 5
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 2
                    state_values:
                      aggregate_func: avg
                    line_width : 0.1
                    bar_spacing: 1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#49ce4c'
                        rank: 0
                      - value: 15
                        color: '#fdd125'
                        rank: 1
                      - value: 35
                        color: '#faaa00'
                        rank: 2
                      - value: 55
                        color: '#fb8600'
                        rank: 3
                      - value: 75
                        color: '#e63740'
                        rank: 4
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      barcode_graph: *timeline_graph_styles

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_score
              name: 'Score'
              area: 'Study'
            - entity: sensor.awair_element_study_temperature
              name: 'Temp'
              area: 'Study'
            - entity: sensor.awair_element_study_humidity
              name: 'Humidity'
              area: 'Study'
              decimals: 0
            - entity: sensor.awair_element_study_carbon_dioxide
              name: 'CO2'
              area: 'Study'
            - entity: sensor.awair_element_study_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Study'
            - entity: sensor.awair_element_study_pm2_5
              name: 'PM2.5'
              area: 'Study'
          layout:
            template:
              name: sak_layout_fce_awair1c


        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_score
              name: 'Score'
              area: 'Study'
            - entity: sensor.awair_element_study_temperature
              name: 'Temp'
              area: 'Study'
            - entity: sensor.awair_element_study_humidity
              name: 'Humidity'
              area: 'Study'
              decimals: 0
            - entity: sensor.awair_element_study_carbon_dioxide
              name: 'CO2'
              area: 'Study'
            - entity: sensor.awair_element_study_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Study'
            - entity: sensor.awair_element_study_pm2_5
              name: 'PM2.5'
              area: 'Study'
          layout:
            template:
              name: sak_layout_fce_awair1b

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_score
              name: 'Score'
              area: 'Study'
            - entity: sensor.awair_element_study_temperature
              name: 'Temp'
              area: 'Study'
            - entity: sensor.awair_element_study_humidity
              name: 'Humidity'
              area: 'Study'
              decimals: 0
            - entity: sensor.awair_element_study_carbon_dioxide
              name: 'CO2'
              area: 'Study'
            - entity: sensor.awair_element_study_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Study'
            - entity: sensor.awair_element_study_pm2_5
              name: 'PM2.5'
              area: 'Study'
          layout:
            template:
              name: sak_layout_fce_awair1a

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_bedroom_score
              name: 'Score'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_temperature
              name: 'Temp'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_humidity
              name: 'Humidity'
              area: 'Bedroom'
              decimals: 0
            - entity: sensor.awair_element_bedroom_carbon_dioxide
              name: 'CO2'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_pm2_5
              name: 'PM2.5'
              area: 'Bedroom'
          layout:
            template:
              name: sak_layout_fce_awair1a

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_bedroom_score
              name: 'Score'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_temperature
              name: 'Temp'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_humidity
              name: 'Humidity'
              area: 'Bedroom'
              decimals: 0
            - entity: sensor.awair_element_bedroom_carbon_dioxide
              name: 'CO2'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Bedroom'
            - entity: sensor.awair_element_bedroom_pm2_5
              name: 'PM2.5'
              area: 'Bedroom'
          layout:
            template:
              name: sak_layout_fce_awair1c

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_livingroom_score
              name: 'Score'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_temperature
              name: 'Temp'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_humidity
              name: 'Humidity'
              area: 'Living'
              decimals: 0
            - entity: sensor.awair_element_livingroom_carbon_dioxide
              name: 'CO2'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_pm2_5
              name: 'PM2.5'
              area: 'Living'
          layout:
            template:
              name: sak_layout_fce_awair1a

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_livingroom_score
              name: 'Score'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_temperature
              name: 'Temp'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_humidity
              name: 'Humidity'
              area: 'Living'
              decimals: 0
            - entity: sensor.awair_element_livingroom_carbon_dioxide
              name: 'CO2'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_volatile_organic_compounds
              name: 'Chemicals'
              area: 'Living'
            - entity: sensor.awair_element_livingroom_pm2_5
              name: 'PM2.5'
              area: 'Living'
          layout:
            template:
              name: sak_layout_fce_awair1c
    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Trees'
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass'
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen_all_graph_sunburst
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/

    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Trees'
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass'
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen_all_graph_audio
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/

    - type: grid
      columns: 1
      square: false
      cards:
        # yesterday.1 #############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 3/1  # Big card with graph!!
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 150
                      cy: 47
                      width: 280
                      height: 90 # things are still wrong with min/max... for audio variant
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    timeline:
                      line_width: 0.1
                      spacing: 1
                    period:
                      calendar:
                        period: day   # hour
                        offset: -1    # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                    state_values:
                      logarithmic: true
                      value_factor: 1000
                      aggregate_func: avg
                      # lower_bound: 10 #~0.1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                        - name: x_axis
                          zpos: below 
                          yshift: 47
                        - name: ticks   # Should be named ticks!! major/minor...
                          zpos: below 
                          yshift: 49
                      numbers:
                        yshift: 50
                        start:
                          name: first
                        end: 
                          name: last 
                        inbetween:
                          name: inbetween
                          interval: 2
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      x_axis:
                        stroke: lightgray
                        stroke-width: 0.2rem
                      ticks:
                        stroke: lightgray
                        stroke-dasharray: 0.5, 119.4
                        stroke-dashoffset: 0.2
                        stroke-width: 1.0rem

    - type: grid
      columns: 1
      square: false
      cards:
        # today.1 #############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 3/1  # Big card with graph!!
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 150
                      cy: 47
                      width: 280
                      height: 90 # things are still wrong with min/max... for audio variant
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    timeline:
                      line_width: 0.1
                      spacing: 1
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      # group_by: date
                    state_values:
                      logarithmic: true
                      value_factor: 1000
                      aggregate_func: avg
                      # lower_bound: 10 #~0.1
                    x_lines:
                      lines:
                        - name: center
                          zpos: below 
                          yshift: 0
                        - name: x_axis
                          zpos: below 
                          yshift: 47
                        - name: ticks   # Should be named ticks!! major/minor...
                          zpos: below 
                          yshift: 49
                      numbers:
                        yshift: 50
                        start:
                          name: first
                        end: 
                          name: last 
                        inbetween:
                          name: inbetween
                          interval: 2
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                    styles:
                      center:
                        stroke: lightgray
                        stroke-width: 0.1rem
                        stroke-dasharray: 5 2.5
                        stroke-dashoffset: 0.2
                      x_axis:
                        stroke: lightgray
                        stroke-width: 0.2rem
                      ticks:
                        stroke: lightgray
                        stroke-dasharray: 0.5, 119.4
                        stroke-dashoffset: 0.2
                        stroke-width: 1.0rem

    - type: grid
      columns: 3
      square: false
      cards:
        # gauge.1 #############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 95
                      height: 90 # things are still wrong with min/max... for audio variant
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    timeline:
                      line_width: 0.1
                      spacing: 1
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                      group_by: date
                      # start_on: today
                    state_values:                      
                      logarithmic: true
                      value_factor: 1000
                      aggregate_func: avg
                      # lower_bound: 0 #~0.1
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'

        # gauge.2 #############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 20
                      width: 80
                      height: 10
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: barcode
                      timeline:
                        line_width: 0.5
                        spacing: 1
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                      group_by: date
                      # start_on: today   
                      state_map:
                        - value: 'off'
                        - value: 'on'
                    state_values:
                      aggregate_func: max
                      lower_bound: -2
                    square: true
                    line_width : 0.5
                    bar_spacing: 1
                    state_map:
                      - value: very_high
                      - value: 'off'
                      - value: 'on'
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: 'lightgray'
                      - value: 1
                        color: 'blue'
                      - value: 2
                        color: 'purple'

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 10
                      margin:
                        x: 0
                        y: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      aggregate_func: max
                      lower_bound: -1
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 80
                      height: 10
                      margin:
                        x: 0
                        y: 0
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: barcode
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      aggregate_func: avg
                      lower_bound: -1
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'

        # gauge.3 #############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 20
                      width: 80
                      height: 20
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: barcode
                      chart_variant: audio
                    timeline:
                      line_width: 0
                      spacing: 1
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                      group_by: date
                      # start_on: today   
                      state_map:
                        - value: none
                        - value: very_low
                        - value: low
                        - value: medium
                        - value: high
                        - value: very_high
                        - value: 'off'
                        - value: 'on'
                    state_values:
                      aggregate_func: max
                      lower_bound: -1
                    square: true
                    line_width : 0
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                      - value: 'off'
                      - value: 'on'
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'
                      - value: 5
                        color: 'lightgray'
                      - value: 6
                        color: 'blue'
                      - value: 7
                        color: 'purple'

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 20
                      margin:
                        x: 0
                        y: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: barcode
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      # aggregate_func: avg
                      lower_bound: -1
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 80
                      height: 20
                      margin:
                        x: 0
                        y: 0
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: barcode
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      # aggregate_func: avg
                      lower_bound: -1
                    square: true
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'

    - type: grid
      columns: 3
      square: false
      cards:
        # clock.1a ############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 80
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      # aggregate_func: avg
                      logarithmic: true 
                      value_factor: 1000
                      lower_bound: 0
                    radial_barcode:
                      size: 5
                      line_width : 1.5
                      face:
                        show_day_night: true
                        show_hour_marks: true 
                        show_hour_numbers: absolute # or relative
                        day_night_radius: 27
                        hour_marks_radius: 23
                        hour_marks_count: 24    # one mark for each hour
                        hour_numbers_radius: 18
                      # extra_rings:
                      #   - aggregate_func: min
                      #     width_offset: -10
                      #     height_offset: -10
                      #     size: 3
                      #     line_width : 1
                      #   - aggregate_func: max
                      #     width_offset: 10
                      #     height_offset: 10
                      #     size: 3
                      #     line_width : 1
                    square: true
                    line_width : 1.5
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                    # styles:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 67
                      height: 67
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      logarithmic: true 
                      value_factor: 1000
                      lower_bound: 0
                      aggregate_func: min
                    square: true
                    line_width : 1.5
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'

                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 93
                      height: 93
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 4
                      group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      logarithmic: true 
                      value_factor: 1000
                      lower_bound: 10
                      aggregate_func: max
                    square: true
                    line_width : 1.5
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'

        # clock.2 ###########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            # - entity: sensor.u_s_air_quality_index
            - entity: sensor.dsmr_reading_electricity_currently_delivered

          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 95
                      height: 95
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: line
                      fill: false    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      logarithmic: true 
                      value_factor: 1000
                      # lower_bound: 10
                    # line:
                    #   show_minmax: true 
                    #   show_dots: false 
                    line_width : 1.5  # To prevent two colors around zero y axis
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                      # - value: 0.00
                      #   color: '#ffe99d'
                      # - value: 1.00
                      #   color: '#fcc449'
                      # - value: 2.00
                      #   color: '#f79f23'
                      # - value: 3.00
                      #   color: '#ef7f01'
                      # - value: 4.00
                      #   color: '#e73f10'

        # clock.3 ############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 95
                      height: 95
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                      # group_by: hour
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    state_values:
                      logarithmic: true
                      value_factor: 1000
                      lower_bound: 50
                      aggregate_func: avg
                    radial_barcode:
                      size: 25
                      line_width : 0.5
                      face:
                        show_day_night: false
                        show_hour_marks: true 
                        show_hour_numbers: relative # or relative
                        hour_marks_radius: 23
                        hour_marks_count: 12   # one mark for each hour
                        hour_numbers_radius: 18
                    square: true
                    line_width : 1.5
                    bar_spacing: 1
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: 'darkgreen'
                      - value: 150 #0.150
                        color: 'green'
                      - value: 300 #0.300
                        color: '#ffe99d' #'yellow'
                      - value: 500 #0.500
                        color: '#fcc449' #'gold'
                      - value: 1000 #1.000
                        color: '#f79f23' #'orange'
                      - value: 1500 #1.500
                        color: '#ef7f01' #'darkorange'
                      - value: 2000 #2.000
                        color: '#e73f10' #'red'
                      - value: 2500 #2.500
                        color: 'darkred'
                      - value: 3000 #3.000
                        color: 'purple'
                    styles:
                      radial_barcode_face_hour_marks:
                        stroke-width: 2em
                        stroke-dasharray: 0.05 0.95
                        stroke-dashoffset: 0.025

    - type: grid
      columns: 3
      square: false
      cards:
        # sunburst.1 ##########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 80
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      # start_on: today
                      group_by: date
                      hours_to_show: 24
                      bins_per_hour: 4
                    state_values:
                      aggregate_func: max
                      lower_bound: -2
                    radial_barcode:
                      size: 15
                      line_width : 0.1
                      face:
                        show_day_night: false
                        show_hour_marks: false 
                        show_hour_numbers: none # absolute # or relative
                        hour_marks_radius: 23
                        hour_marks_count: 12   # one mark for each hour
                        hour_numbers_radius: 18
                    line_width : 0.1
                    bar_spacing: 0
                    state_map:
                      - value: dummy
                      - value: 'off'
                      - value: 'on'
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: 'lightgray'
                      - value: 1
                        color: 'blue'
                      - value: 2
                        color: 'purple'

        # sunburst.2 ##########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
            debug: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 80
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                      # start_on: today
                      hours_to_show: 24
                      bins_per_hour: 4
                    state_values:
                      aggregate_func: max
                      lower_bound: -1
                    radial_barcode:
                      size: 15
                      line_width : 0.1
                      face:
                        show_day_night: false
                        show_hour_marks: false 
                        show_hour_numbers: none # absolute # or relative
                        hour_marks_radius: 23
                        hour_marks_count: 12   # one mark for each hour
                        hour_numbers_radius: 18
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      # - value: fake
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.01
                        color: '#ffe99d'
                      - value: 1.01
                        color: '#fcc449'
                      - value: 2.01
                        color: '#f79f23'
                      - value: 3.01
                        color: '#ef7f01'
                      - value: 4.01
                        color: '#e73f10'

        # sunburst.3 ##########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 80
                      height: 80
                      margin:
                        x: 0
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: radial_barcode
                      chart_variant: sunburst
                    period:
                      calendar:
                        period: day   # hour
                        offset: 0     # 0 for today, -1 for yesterday!
                        duration:
                          hour: 24    # Add or not???
                        bins:
                          per_hour: 1
                      group_by: date
                      # start_on: today
                      hours_to_show: 24
                      bins_per_hour: 4
                    state_values:
                      aggregate_func: max
                      lower_bound: -1
                    radial_barcode:
                      size: 15
                      line_width : 0.1
                      face:
                        show_day_night: false
                        show_hour_marks: false 
                        show_hour_numbers: none # absolute # or relative
                        hour_marks_radius: 23
                        hour_marks_count: 12   # one mark for each hour
                        hour_numbers_radius: 18
                    line_width : 0.1
                    bar_spacing: 1
                    state_map:
                      - value: none
                      - value: very_low
                      - value: low
                      - value: medium
                      - value: high
                      - value: very_high
                    colorstops_transition: hard
                    colorstops:
                      - value: -1
                        color: '#848484'
                      - value: 0.00
                        color: '#ffe99d'
                      - value: 1.00
                        color: '#fcc449'
                      - value: 2.00
                        color: '#f79f23'
                      - value: 3.00
                        color: '#ef7f01'
                      - value: 4.00
                        color: '#e73f10'


    - type: grid
      columns: 3
      square: false
      cards:
        # traffic_light.1 ######################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 100
                      height: 25
                      margin:
                        x: 5
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    square: true
                    line_width : 0.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#A8E05F'
                      - value: 51
                        color: '#FDD74B'
                      - value: 101
                        color: '#FE9B57'
                      - value: 151
                        color: '#FE6A69'
                      - value: 201
                        color: '#A97ABC'
                      - value: 301
                        color: '#A87383'

        # traffic_light.2 ######################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_temperature
              name: 'Awair Temp Study'
              area: 'Tha Moon'
              show_graph: true
            - entity: sensor.awair_element_bedroom_temperature
              name: 'Awair Temp Bedroom'
              area: 'Tha Moon'
              show_graph: true
            - entity: sensor.awair_element_livingroom_temperature
              name: 'Awair Temp Living'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 15
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      calendar:
                        period: day
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 0.5
                      # group_by: date
                      # start_on: today
                      # hours_to_show: 24
                      # bins_per_hour: 0.5
                    state_values:
                      aggregate_func: avg
                    square: true
                    line_width : 1.5
                    bar_spacing: 1
                    colorstops_transition: hard
                    colorstops:
                      - value: -1000
                        color: '#e63740'
                        rank: 4
                      - value:  9
                        color: '#fb8600'
                        rank: 3
                      - value: 11
                        color: '#faaa00'
                        rank: 2
                      - value: 17
                        color: '#fdd125'
                        rank: 1
                      - value: 18
                        color: '#49ce4c'
                        rank: 0
                      - value: 25
                        color: '#fdd125'
                        rank: 1
                      - value: 26
                        color: '#faaa00'
                        rank: 2
                      - value: 31
                        color: '#fb8600'
                        rank: 3
                      - value: 33
                        color: '#e63740'
                        rank: 4


                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 0.5
                      # hours_to_show: 24
                      # bins_per_hour: 0.5
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: -1000
                        color: '#e63740'
                        rank: 4
                      - value:  9
                        color: '#fb8600'
                        rank: 3
                      - value: 11
                        color: '#faaa00'
                        rank: 2
                      - value: 17
                        color: '#fdd125'
                        rank: 1
                      - value: 18
                        color: '#49ce4c'
                        rank: 0
                      - value: 25
                        color: '#fdd125'
                        rank: 1
                      - value: 26
                        color: '#faaa00'
                        rank: 2
                      - value: 31
                        color: '#fb8600'
                        rank: 3
                      - value: 33
                        color: '#e63740'
                        rank: 4


                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 85
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 0.5
                      # hours_to_show: 24
                      # bins_per_hour: 0.5
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: -1000
                        color: '#e63740'
                        rank: 4
                      - value:  9
                        color: '#fb8600'
                        rank: 3
                      - value: 11
                        color: '#faaa00'
                        rank: 2
                      - value: 17
                        color: '#fdd125'
                        rank: 1
                      - value: 18
                        color: '#49ce4c'
                        rank: 0
                      - value: 25
                        color: '#fdd125'
                        rank: 1
                      - value: 26
                        color: '#faaa00'
                        rank: 2
                      - value: 31
                        color: '#fb8600'
                        rank: 3
                      - value: 33
                        color: '#e63740'
                        rank: 4


        # traffic_light.3 ######################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.awair_element_study_humidity
              name: 'Awair Temp Study'
              area: 'Tha Moon'
              show_graph: true
            - entity: sensor.awair_element_bedroom_humidity
              name: 'Awair Temp Bedroom'
              area: 'Tha Moon'
              show_graph: true
            - entity: sensor.awair_element_livingroom_humidity
              name: 'Awair Temp Living'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 15
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      rolling_window:
                        duration:
                          hour: 1
                        bins: 
                          per_hour: 1
                      # hours_to_show: 1 #24
                      # bins_per_hour: 1 #0.5
                    state_values:
                      aggregate_func: last
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4
                      - value: 15
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 20
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 35
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 40
                        color: '#49ce4c' #'#A8E05F' OK
                        rank: 0
                      - value: 50
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 60
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 65
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 80
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4


                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      real_time: true
                      # rolling_window:
                      #   duration:
                      #     hour: 0.1
                      #   bins: 
                      #     per_hour: 1
                      # hours_to_show: 0.1 #24
                      # bins_per_hour: 1 #0.5
                    state_values:
                      aggregate_func: last
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4
                      - value: 15
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 20
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 35
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 40
                        color: '#49ce4c' #'#A8E05F' OK
                        rank: 0
                      - value: 50
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 60
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 65
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 80
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4




                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 2
                    position:
                      cx: 50
                      cy: 85
                      width: 100
                      height: 15
                      margin:
                        x: 5
                        y: 0
                    entity_index: 2
                    entity_indexes:
                      - entity_index: 2
                    animate: true
                    show:
                      chart_type: graded
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 0.5
                      # hours_to_show: 24
                      # bins_per_hour: 0.5
                    square: true
                    line_width : 1.5
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4
                      - value: 15
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 20
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 35
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 40
                        color: '#49ce4c' #'#A8E05F' OK
                        rank: 0
                      - value: 50
                        color: '#fdd125' #'#FDD74B' OK
                        rank: 1
                      - value: 60
                        color: '#faaa00' #'#FE9B57' OK
                        rank: 2
                      - value: 65
                        color: '#fb8600' #'#FE6A69'
                        rank: 3
                      - value: 80
                        color: '#e63740' #'#A97ABC' OK
                        rank: 4



    - type: grid
      columns: 3
      square: false
      cards:
        # neg/pos 0.1 ###########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: true
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 100
                      height: 38
                      margin:
                        x: 5
                        y: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar    # line and dots are ok with marginx/y. Now the bars!!
                      fill: fade    # fade, none
                      points: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 0.5
                      # hours_to_show: 24
                      # bins_per_hour: 0.5
                    line_width : 0.1  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-elevation-surface-neutral10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-elevation-surface-neutral7)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-elevation-surface-neutral5)
                    # Just exploring styles
                    styles:
                      bar_mask_above:
                        fill: url(#sak-graph-bar-mask-tb-80)
                        stroke: url(#sak-graph-bar-mask-tb-80)
                      bar_mask_below:
                        fill: url(#sak-graph-bar-mask-bt-80)
                        # fill: '#2222'
                      0: 
                        bar_mask_pos:
                          fill: url(#somegradient)
                        bar_mask_neg:
                          fill: url(#someothergradient)
                        area_mask_pos:
                          fill: url(#somegradient)
                        area_mask_neg:
                          fill: url(#somegradient)
                        area_background:
                          fill: red
                        bar_background:
                          # Yep, via pattern def:
                          # https://stackoverflow.com/questions/3796025/fill-svg-path-element-with-a-background-image
                          fill: url(#somecolors-or-picture-file-possible)

              - toolset: graph-top
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 20
                      width: 100
                      height: 38
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: area
                      # fill: fade    # fade, none
                      # points: false
                    area: 
                      fill: fade
                      show_dots: false
                      show_line: true
                      show_minmax: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 0.2  # To prevent two colors around zero y axis
                    # line_width : 2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-elevation-surface-neutral10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-elevation-surface-neutral7)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-elevation-surface-neutral5)
                                                # stroke:  var(--theme-sys-palette-secondary60)

                    # Just exploring styles
                    styles:
                      area_mask_above:
                        fill: url(#sak-graph-area-mask-tb-3)
                      area_mask_below:
                        # fill: url(#sak-graph-area-mask-tb-0)
                        fill: '#222'
        # neg/pos 0.2 ###########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: true
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 100
                      height: 38
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: fade    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 0.2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-palette-primary20)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-primary40)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-primary60)
                    styles:
                      bar_mask_above:
                        fill: url(#sak-graph-bar-mask-tb-100)
                      bar_mask_below:
                        # fill: url(#sak-graph-bar-mask-tb-60)
                        fill: url(#sak-graph-bar-mask-bt-100)

              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 20
                      width: 100
                      height: 38
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: false    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 0.2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary40)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary70)


        # neg/pos 0.3 ###########################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            # - entity: sensor.u_s_air_quality_index
            - entity: sensor.dsmr_reading_electricity_currently_delivered

            # - entity: light.1st_floor_hall_light
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              fixed_value: false

          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: false
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 100
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: line
                      fill: false    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 96
                        bins: 
                          per_hour: 1
                      # hours_to_show: 96
                      # bins_per_hour: 1
                    line:
                      show_dots: false
                      show_minmax: true
                    line_width : 0.2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary40)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary70)


              - toolset: graph
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 80
                      width: 100
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: none    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 96
                        bins: 
                          per_hour: 1
                      # hours_to_show: 96
                      # bins_per_hour: 1
                    line_width : 0.2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary40)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary70)


              - toolset: graph-upper
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 30
                      width: 100
                      height: 48
                      margin: 1
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: line
                      fill: false    # fade, none
                      points: false
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 4
                      # hours_to_show: 24
                      # bins_per_hour: 4
                    line:
                      show_dots: false
                      show_minmax: true
                    line_width : 1  # To prevent two colors around zero y axis
                    colorstops_transition: smooth
                    fixed_value: true
                    aggregate_func: avg
                    colorstops:
                      - value: -50
                        # color: '#2683fe' # blue
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary40)
                        # color: '#2683fe' # blue
                      - value: 160
                        # color: '#EB46A1' # pink
                        color: var(--theme-sys-palette-secondary70)


    - type: grid
      columns: 3
      square: false
      cards:
        # bars.0.1 ##############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
            # - entity: sensor.dsmr_reading_electricity_currently_delivered
              
          aspectratio: 1/1                          # Card is 100x100 grid
          dev:
            fakeData: true
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-bottom
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      orientation: horizontal
                      cx: 50
                      cy: 80
                      width: 100
                      height: 38
                      margin: 1
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                      # - entity_index: 1
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: area
                      fill: fade    # fade, none
                      points: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    area: 
                      fill: fade
                      show_line: true 
                      show_dots: true 
                    line_width : 0.2  # To prevent two colors around zero y axis
                    colorstops_transition: hard
                    colorstops:
                      - value: -50
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        color: var(--theme-sys-palette-secondary40)
                      - value: 160
                        color: var(--theme-sys-palette-secondary70)


              - toolset: graph-top
                position:
                  cx: 50
                  cy: 50
                  scale_y: -1
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 20
                      width: 100
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: none    # fade, none
                      points: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 23
                      # bins_per_hour: 1
                    line_width : 0.3
                    colorstops_transition: hard
                    colorstops:
                      # From the example, pink to blue
                      - value: -50
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        color: var(--theme-sys-palette-secondary40)
                      - value: 160
                        color: var(--theme-sys-palette-secondary70)


        # bars.0.2 ##############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
          dev:
            fakeData: false              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-test
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: false
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    levels:
                      buckets: 24
                      spacing: 4
                      square: true
                      line_width: 0.3
                    bars: 
                      line_width: 0.3
                      spacing: 4
                    lines:
                      line_width: 0.3
                      area: true
                      area_above: true  # / filled | true / fade / none | false
                      area_below: true  # / filled | true / fade / none | false
                      points: false 
                    dots: 
                      no_idea_yet: true

                    # For current history fetching
                    value_buckets: 40 # was 13
                    show:
                      chart_type: equalizer
                      fill: false    # fade, none
                      points: false
                    bar_spacing: 4
                    line_width : 0.3
                    # square: true
                    colorstops_transition: hard
                    colorstops:
                      - value: 0
                        color: '#A8E05F'
                      - value: 51
                        color: '#FDD74B'
                      - value: 101
                        color: '#FE9B57'
                      - value: 151
                        color: '#FE6A69'
                      - value: 201
                        color: '#A97ABC'
                      - value: 301
                        color: '#A87383'
                    styles:
                      bar_mask_above:
                        fill: url(#sak-graph-bar-mask-tb-80)
                        stroke: url(#sak-graph-bar-mask-tb-80)
                      bar_mask_below:
                        fill: url(#sak-graph-bar-mask-bt-80)

        # bars.0.3 ##############################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-left
                position:
                  cx: 50
                  cy: 50
                  rotate: -90
                  scale_x: -1
                  scale_y: -1
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      orientation: horizontal
                      cx: 20
                      cy: 50
                      width: 100
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: none    # fade, none
                      points: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 0
                    colorstops_transition: smooth
                    colorstops:
                    # colorstops:
                      - value: -50
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        color: var(--theme-sys-palette-secondary40)
                      - value: 160
                        color: var(--theme-sys-palette-secondary70)


              - toolset: graph-right
                position:
                  cx: 50
                  cy: 50
                  scale_y: -1
                  rotate: 90
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      cx: 80
                      cy: 50
                      width: 100
                      height: 40
                      margin: 0
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    animate: true
                    # For current history fetching
                    show:
                      chart_type: bar
                      fill: none    # fade, none
                      points: true
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 0
                    colorstops_transition: smooth
                    colorstops:
                    # colorstops:
                      - value: -50
                        color: var(--theme-sys-palette-secondary10)
                      - value: 0
                        color: var(--theme-sys-palette-secondary40)
                      - value: 160
                        color: var(--theme-sys-palette-secondary70)


    - type: grid
      columns: 3
      square: false
      cards:
        # 0.1 ###################################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-test
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      orientation: horizontal
                      cx: 50
                      cy: 50
                      width: 100
                      height: 100
                      margin:
                        l: 1
                        x: 1
                        y: 0
                        r: 1
                        t: 2
                        b: 50
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 3
                    # For current history fetching
                    show:
                      chart_type: area
                      fill: fade
                      # points: true
                    area: 
                      show_line: true
                      fill: fade
        # 0.2 ###################################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-test
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      orientation: horizontal
                      cx: 50
                      cy: 80
                      width: 100
                      height: 40
                      margin:
                        l: 0
                        x: 0
                        y: 0
                        r: 0
                        t: 0
                        b: 2
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    expose_entities:
                      - min: sak_sensor.graph_0_min
                      - max: sak_sensor.graph_0_max
                      - avg: sak_sensor.graph_0_avg
                    period:
                      rolling_window:
                        duration:
                          hour: 168
                        bins: 
                          per_hour: 1
                    # hours_to_show: 168
                    # bins_per_hour: 1
                    line_width : 1
                    # For current history fetching
                    show:
                      chart_type: line
                      fill: false
                      points: true
                    line:
                      show_dots: true
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: '#A8E05F'
                      - value: 51
                        color: '#FDD74B'
                      - value: 101
                        color: '#FE9B57'
                      - value: 151
                        color: '#FE6A69'
                      - value: 201
                        color: '#A97ABC'
                      - value: 301
                        color: '#A87383'

        # 0.3 ###################################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'Air quality'
              area: 'Tha Moon'
              show_graph: true
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: graph-test
                position:
                  cx: 50      # was 50. Height is 50, so cx: 25 ?? YEP !!!!!!
                  cy: 50
                  # rotate: 90  # rotate 90 degrees. How to shift to left side??
                  # scale_y: 1
                tools:
                  # ------------------------------------------------------------
                  - type: sparkline
                    id: 1
                    position:
                      orientation: horizontal
                      cx: 50
                      cy: 75
                      width: 100
                      height: 50
                      margin: 2
                    entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                    expose_entities:
                      - min: sak_sensor.graph_0_min
                      - max: sak_sensor.graph_0_max
                      - avg: sak_sensor.graph_0_avg
                    period:
                      rolling_window:
                        duration:
                          hour: 24
                        bins: 
                          per_hour: 1
                      # hours_to_show: 24
                      # bins_per_hour: 1
                    line_width : 1
                    # For current history fetching
                    show:
                      chart_type: dots
                      points: true
                    colorstops_transition: smooth
                    colorstops:
                      - value: 0
                        color: '#A8E05F'
                      - value: 51
                        color: '#FDD74B'
                      - value: 101
                        color: '#FE9B57'
                      - value: 151
                        color: '#FE6A69'
                      - value: 201
                        color: '#A97ABC'
                      - value: 301
                        color: '#A87383'
      # ========================================================================
      # ========================================================================
      # ========================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        # 1.1 ###################################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
            - entity: light.livingroom_light_cupboard_light
              attribute: hs_color
              convert: rgb_csv
            - entity: light.livingroom_light_cupboard_light
              attribute: hs_color
              convert: rgb_hex
            - entity: light.livingroom_light_duo_right_light
              attribute: color_temp
              convert: rgb_hex
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              - toolset: color-test
                position:
                  cx: 50
                  cy: 50
                tools:
                  # ------------------------------------------------------------
                  # Circle as button
                  - type: circle
                    position:
                      cx: 50
                      cy: 50
                      radius: 22.5
                    entity_index: 2
                    # entity_indexes:
                    #   - entity_index: 0
                    #   - entity_index: 1
                    animations:
                      # - state: 'undefined'
                      #   styles:
                      #     circle:
                      #       opacity: 0
                      - state: '[[[ return state; ]]]'
                        styles:
                          circle:
                            # fill:  '[[[ if (typeof (state) === "undefined") return "#ffffff00";
                            #            return `rgb(${state})` ]]]'
                            fill: >-
                              [[[ if (typeof (state) === 'undefined') return 'none';
                                  return `rgb(${state})`; ]]]
                  # ------------------------------------------------------------
                  # Circle as button
                  - type: circle
                    position:
                      cx: 50
                      cy: 90
                      radius: 10
                    entity_index: 3
                    # entity_indexes:
                    #   - entity_index: 0
                    #   - entity_index: 1
                    animations:
                      - state: '[[[ return state; ]]]'
                        styles:
                          circle:
                            fill:  >-
                              [[[ if (typeof (state) === 'undefined') return 'none';
                                   return state; ]]]
                  # ------------------------------------------------------------
                  # Circle as button
                  # Little circle in lower left corner
                  - type: circle
                    position:
                      cx: 20
                      cy: 90
                      radius: 10
                    entity_index: 4
                    # entity_indexes:
                    #   - entity_index: 0
                    #   - entity_index: 1
                    animations:
                      - state: '[[[ return state ]]]'
                        styles:
                          circle:
                            # fill:  '[[[ return state ]]]'
                            transition: fill 1s ease
                            fill:  >-
                              [[[ if (typeof (state) === 'undefined') return 'none';
                                   return state; ]]]

              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: -90
                      end_angle: 90
                      label:
                        placement: 'position'
                        cx: 50
                        cy: 45
                      thumb:
                        width: 7
                        height: 7
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    # scale:
                    #   min: 1
                    #   max: 100
                    #   step: 5
                    scale:
                      min: 15
                      max: 25
                      step: 0.5
                    show:
                      uom: 'end'
                    styles:
                      circslider:
                        stroke: none
                        fill: none
                      label:
                        # display: none
                        text-anchor: middle
                        font-size: 20em
                        font-weight: 500
                        pointer-events: auto
                      uom:
                        # display: none
                        font-weight: 600
                      active:
                        stroke: var(--theme-sys-color-primary)
                        stroke-width: 12em
                        stroke-linecap: round
                      track:
                        # stroke: var(--theme-sys-elevation-surface-neutral4)
                        fill-opacity: 1
                        stroke-width: 2em
                        stroke: var(--theme-sys-elevation-surface-neutral10)
                        stroke-linecap: round
                      thumb:
                        fill: var(--theme-sys-color-primary)
                        fill-opacity: 0.7
                        stroke: var(--primary-background-color)
                        stroke-width: 2em
                        
        # 1.2 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: -130
                      end_angle: 130
                      thumb:
                        width: 5
                        height: 15
                        radius: 1
                      label:
                        placement: 'position'
                        cx: 50.01
                        cy: 75
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                      active:
                        # stroke: var(--theme-sys-color-primary)
                        stroke: url(#sak-light-color-temperature-gradient)
                      label:
                        text-anchor: middle
                        font-size: 20em
                        font-weight: 500
                        pointer-events: auto
                      uom:
                        font-weight: 600

        # 1.3 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Ceiling Light 1.3'
              icon: mdi:dome-light
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 42.5
                  cy: 42.5
                palette: 
                  color_swatch_1:
                    template:
                      name: color_swatch_android_watch
                      variables:
                        - dummy: 1
                  color_swatch_2:
                    template:
                      name: color_swatch_testing
                      variables:
                        - dummy: 1

                tools:              
                  # ------------------------------------------------------------
                  # Icon with percentage in it
                  - type: icon
                    position:
                      cx: 85
                      cy: 50
                      align: center
                      icon_size: 40
                    entity_index: 0
                    icon: mdi:brightness-5
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--theme-sys-elevation-surface-neutral4)
                            opacity: 1
                      - state: 'off'
                        styles:
                          icon:
                            # fill: none
                            opacity: 0
                    styles:
                      icon:
                        fill: var(--theme-sys-elevation-surface-neutral4)
                        opacity: 1
                        transition: opacity 1s ease
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 35
                      start_angle: -230
                      end_angle: 50
                      label:
                        placement: 'position'
                        cx: 85
                        cy: 50
                    entity_index: 1
                    show:
                      uom: none
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                        filter: drop-shadow(1px 4px 6px black)
                      active:
                        stroke:  var(--theme-sys-palette-secondary60)
                        stroke-width: 4em
                        stroke-linecap: square
                      track:
                        stroke:  var(--theme-sys-palette-secondary80)
                        stroke-width: 3em
                        stroke-linecap: square
                      card:
                        -cs-theme-shadow-darker: auto
                      thumb:
                        fill:  var(--theme-sys-palette-secondary50)
                        stroke: var(--primary-background-color)
                        stroke-width: 2em
                        paint-order: stroke
                      label:
                        text-anchor: middle
                        font-size: 10em
                        font-weight: 500
                        pointer-events: auto
                      uom:
                        font-weight: 600
                  # ------------------------------------------------------------
                  # Circle as button
                  - type: circle
                    position:
                      cx: 50
                      cy: 50
                      radius: 22.5
                    # entity_index: 0
                    entity_indexes:
                      - entity_index: 0
                      - entity_index: 1
                    animations:
                      - state: 'on'
                        styles:
                          circle:
                            fill:  var(--theme-sys-palette-secondary40)
                      - state: 'off'
                        styles:
                          circle:
                            fill:  var(--theme-sys-palette-secondary80)
                    user_actions:
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.toggle
                    styles:
                      circle:
                        fill: var(--theme-sys-color-secondary-container)
                        stroke: var(--theme-sys-color-secondary)
                        stroke-width: 0em
                        transition: fill 1s ease
                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 50
                      cy: 50
                      align: center
                      icon_size: 30
                    entity_index: 0
                    animations:
                      - state: 'on'
                        styles:
                          icon:
                            fill: var(--primary-background-color)
                      - state: 'off'
                        styles:
                          icon:
                            fill: var(--theme-sys-color-secondary)
                    styles:
                      icon:
                        fill: var(--theme-sys-color-secondary)
                        pointer-events: none
                        transition: fill 1s ease
              # ================================================================
              - toolset: name
                position:
                  cx: 5
                  cy: 90
                tools:              
                  # ------------------------------------------------------------
                  - type: name
                    position:
                      cx: 50
                      cy: 50
                    entity_index: 0
                    styles:
                      name:
                        font-size: 10em
                        text-anchor: start
                        font-weight: bold

        # 1.4 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: 270
                      end_angle: 360
                    entity_index: 1
                    animations:
                      - state: '[[[ return state; ]]]'
                        styles:
                          thumb:
                            stroke-width: '[[[ return (2 + ( state / 10)) + "em"; ]]]'
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    # scale:
                    #   min: 1
                    #   max: 100
                    #   step: 1
                    scale:
                      min: 24
                      max: 36
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                      thumb:
                        stroke: var(--theme-sys-color-primary)
                        fill: white
                        paint-order: stroke
                      capture:
                        stroke-width: 2em
                        stroke: var(--theme-sys-color-primary)
                        # fill: var(--theme-sys-color-secondary)
                        fill: var(--theme-sys-palette-secondary80)
                        fill-opacity: 1

        # 1.5 ###################################################################
        
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: 0
                      end_angle: 180
                      thumb:
                        radius: 0
                        height: 8
                        width: 12
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                      thumb:
                        stroke: var(--theme-sys-elevation-surface-neutral10)
                        fill: white
                        stroke-width: 1em
                      track:
                        stroke-width: 12em
                        stroke-linecap: square
                      active:
                        # stroke: var(--primary-background-color)
                        stroke: url(#sak-light-brightness-gradient)
                      capture:
                        fill: none
                        
        # 1.6 ###################################################################
        
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
              icon: mdi:face-man
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              icon: mdi:fan
            - entity: input_number.negative_test
              unit: "W"
          theme: M3-D04-Magenta
          palette: 
            color_swatch_1:
              template:
                name: color_swatch_android_watch
                variables:
                  - dummy: 1
            color_swatch_2:
              template:
                name: color_swatch_testing
                variables:
                  - dummy: 1

          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: state
                    position:
                      cx: 15
                      cy: 50
                    entity_indexes:
                      - entity_index: 2
                      - entity_index: 0
                    animations:
                      - state: 'on'
                        entity_index: 0
                        # reuse: true
                        styles:
                          tool:
                            opacity: 1
                          state:
                            opacity: 1
                          uom:
                            opacity: 1
                      - state: 'off'
                        # reuse: true
                        entity_index: 0
                        styles:
                          tool:
                            opacity: 0
                          state:
                            opacity: 0
                          uom:
                            opacity: 0
                    styles:
                      tool:
                        opacity: 1
                        transition: opacity 0.5s linear
                      state:
                        opacity: 1
                        text-anchor: middle
                        font-size: 20em
                        font-weight: 700
                        fill: var(--primary-text-color)
                        transition: opacity 0.5s linear
                      uom:
                        opacity: 1
                        fill: var(--primary-text-color)
                        font-weight: 700
                        transition: opacity 0.5s linear
                  # ------------------------------------------------------------
                  - type: icon
                    position:
                      cx: 85
                      cy: 50
                      align: center
                      icon_size: 40
                    entity_indexes:
                      - entity_index: 1
                      - entity_index: 0
                    animations:
                      - state: 'on'
                        entity_index: 0
                        reuse: true
                        # icon: mdi:fan
                        styles:
                          icon:
                            fill: 'red'
                          tool:
                            display: initial
                      - state: 'off'
                        reuse: true
                        entity_index: 0
                        styles:
                          icon:
                            fill: 'blue'
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: 0
                      end_angle: 360
                      label:
                        placement: 'position'
                        cx: 50.01
                        cy: 50.01
                    # entity_index: 1
                    entity_indexes:
                      - entity_index: 1
                      - entity_index: 0
                    animations:
                      - state: '50'
                        operator: '>='
                        reuse: true
                        styles:
                          track:
                            opacity: 0.3
                            transition: opacity 1s ease
                      - state: '50'
                        operator: '<'
                        reuse: true
                        styles:
                          track:
                            opacity: 1
                            transition: opacity 1s ease

                      - state: 'on'
                        entity_index: 0
                        reuse: true
                        styles:
                          track:
                            stroke: red
                          tool:
                            display: initial
                      - state: 'off'
                        reuse: true
                        entity_index: 0
                        styles:
                          tool:
                            display: none
                    show:
                      uom: bottom
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                      track:
                        stroke:  var(--theme-sys-palette-secondary80)
                      active:
                        stroke:  var(--theme-sys-palette-secondary60)
                      thumb:
                        stroke: var(--primary-background-color)
                        stroke-width: 2em
                        fill:  var(--theme-sys-palette-secondary50)
                        paint-order: stroke
                      label:
                        text-anchor: middle
                        font-size: 25em
                        font-weight: 500
                        fill: var(--theme-sys-color-secondary)
                      uom:
                        font-weight: 600

      # ========================================================================
      # ccw========================================================================
      # ========================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        # 2.1 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 100x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50                             # Center on cards border 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: 90
                      end_angle: -90
                      thumb:
                        radius: 1
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 0          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1

        # 2.2 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 400x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50                             # Center on cards border 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: -90
                      end_angle: -180
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1

        # 2.3 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 1/1                          # Card is 400x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50                             # Center on cards border 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: -180
                      end_angle: -270
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1

        # 2.4 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct

          aspectratio: 1/1                          # Card is 400x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50                             # Center on cards border 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 40
                      start_angle: -270
                      end_angle: -360
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1

        # 2.5 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct

              
          aspectratio: 1/1                          # Card is 400x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 50                             # Center on cards border 
                  cy: 50
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 40
                      cy: 40
                      radius: 20
                      start_angle: -130
                      end_angle: 130
                      thumb:
                        radius: 1
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)

      # ========================================================================
      # ccw========================================================================
      # ========================================================================
    - type: grid
      columns: 2
      square: false
      cards:

        # 3.1 ###################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'CircSlider Test'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
              
          aspectratio: 3/1                          # Card is 400x100 grid
          layout:
            styles:
              card:
            toolsets:
              # ================================================================
              - toolset: circ-slider-test
                position:
                  cx: 80                          # Center on cards border 
                  cy: -315
                tools:              
                  # ------------------------------------------------------------
                  - type: circslider
                    position:
                      cx: 50
                      cy: 50
                      radius: 395
                      start_angle: -180
                      end_angle: -210
                      thumb:
                        width: 30
                        height: 30
                        radius: 15
                    entity_index: 1
                    user_actions:
                      drag_action:
                        update_interval: 200          # Update every 200msec
                        haptic: selection
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                      tap_action:
                        haptic: light
                        actions:
                          - action: call-service
                            service: light.turn_on
                            parameter: brightness_pct
                    scale:
                      min: 1
                      max: 100
                      step: 1
                    styles:
                      circslider:
                        stroke: none
                        fill: var(--theme-sys-elevation-surface-neutral4)
                      track:
                        stroke-width: 12em
                        stroke-linecap: round
                      active:
                        stroke-width: 20em
                        stroke-linecap: round
      # ========================================================================
      # ========================================================================
      # ========================================================================
      # ========================================================================
      # ========================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'AirVisual #1'
            - entity: sensor.u_s_air_pollution_level
            - entity: sensor.u_s_air_quality_index
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_airvisual1

      ##########################################################################
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.u_s_air_quality_index
              name: 'AirVisual #2'
          layout:
            template:
              name: sak_layout_fce_airvisual2

      # ========================================================================
      # ========================================================================
      # ========================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.iphone_van_marco_battery_level
              name: 'Battery #1-1'
          layout:
            template:
              name: sak_layout_fce_sensor1
              variables:
                - sak_layout_sensor_name_above_state: true
                - sak_layout_sensor_history_disabled: true
                - sak_layout_sensor_segarc_style: colorlist
                - sak_layout_sensor_scale_max: 100                
              # name: sak_layout_fce_battery1a

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.ipad_van_de_bereboot_battery_level
              # name: 'iPad Battery'
              name: 'Battery #1-2'
          layout:
            template:
              # name: sak_layout_fce_battery1b
              name: sak_layout_fce_sensor1
              variables:
                - sak_layout_sensor_name_above_state: false
                - sak_layout_sensor_history_disabled: false
                - sak_layout_sensor_colorstops_template: colorstops_battery_level
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_scale_max: 100                

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.iphone_van_marco_battery_level
              name: 'Battery #2'
            - entity: sensor.iphone_van_marco_battery_level
              secondary_info: last_changed
              format: relative
          palette: 
            google_brand: 
              template:
                name: color_swatch_google_brand_colors_4
                variables:
                  - dummy: 1
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_colorstops_template: colorstops_battery_level
                - sak_layout_sensor_icon_style: colorstops
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_scale_max: 100                

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.ipad_van_de_bereboot_battery_level
              name: 'Battery #2'
            - entity: sensor.ipad_van_de_bereboot_battery_level
              secondary_info: last_changed
              format: relative
          palette: 
            google_brand: 
              template:
                name: color_swatch_google_brand_colors_4
                variables:
                  - dummy: 1
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_colorstops_template: colorstops_battery_level
                - sak_layout_sensor_icon_style: colorstops
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_scale_max: 100                

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Pump Pool'
              icon: mdi:pump
          layout:
            template:
              name: sak_layout_fce_binary

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Pump Pool'
              icon: mdi:pump
          layout:
            template:
              name: sak_layout_fce_binary
              variables:
                - sak_layout_binary_icon_spin: true

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              name: 'Bin Alert #1'
              # name: 'Movement'
            - entity: binary_sensor.livingroom_movement_occupancy
              secondary_info: last_changed
              format: relative
            - entity: sensor.livingroom_movement_battery
              decimals: 0
            - entity: sensor.livingroom_movement_linkquality
              decimals: 0
          theme: M3-D04-Magenta
          layout:
            template:
              name: sak_layout_fce_binary_alert1

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              name: 'Bin Alert #2'
              # name: 'Livingroom #2'
            - entity: binary_sensor.livingroom_movement_occupancy
              secondary_info: last_changed
              format: relative
            - entity: sensor.livingroom_movement_battery
              decimals: 0
          layout:
            template:
              name: sak_layout_fce_binary_alert2

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              name: 'Bin Alert #3'
            - entity: binary_sensor.livingroom_movement_occupancy
              secondary_info: last_changed
              format: relative
            - entity: sensor.studym_iaq_battery
              decimals: 0
          layout:
            template:
              name: sak_layout_fce_binary_alert3
                    
        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: binary_sensor.livingroom_movement_occupancy
              name: 'Bin Alert #4'
            - entity: binary_sensor.livingroom_movement_occupancy
              secondary_info: last_changed
              format: relative
            - entity: sensor.studym_iaq_battery
              decimals: 0
          layout:
            template:
              name: sak_layout_fce_binary_alert4

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        # 
        # Indoor Environment: Bath #2
        # 
        ########################################################################
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.bathroom_2f_iaq_temperature
              name: 'Environment'
              icon: mdi:home-thermometer-outline
              decimals: 1
            - entity: sensor.bathroom_2f_iaq_humidity
              decimals: 0
            - entity: sensor.bathroom_2f_iaq_pressure
              decimals: 0
            - entity: sensor.bathroom_2f_iaq_battery
              decimals: 0
            - entity: sensor.bathroom_2f_iaq_linkquality
              decimals: 0
            - entity: sensor.bathroom_2f_iaq_temperature
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_environment

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        - type: custom:swiss-army-knife-card
          disable_card: true
          layout:
            template:
              name: sak_layout_fce_header
              variables:
                - sak_layout_header_content: 'Livingroom'
                - sak_layout_header_font_color: var(--secondary-text-color)
                - sak_layout_header_font_size: 5em

        ########################################################################

        - type: custom:swiss-army-knife-card
          disable_card: true
          layout:
            template:
              name: sak_layout_fce_header
              variables:
                - sak_layout_header_content: 'All those beautiful lights'
                - sak_layout_header_font_color: var(--theme-sys-color-tertiary)
                - sak_layout_header_font_size: 3em    
                - sak_layout_header_font_text_transform: none
                
      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: input_boolean.pump_enabled
              name: 'Input Boolean'
              # name: 'Pump Pool Enable'
          layout:
            template:
              name: sak_layout_fce_input_boolean

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.1st_floor_hall_light
              name: 'Light'
              icon: mdi:dome-light
          layout:
            template:
              name: sak_layout_fce_light

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Light /w Slider2'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit_of_measurement: "%"
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_light_with_slider

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Light /w Slider'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit_of_measurement: "%"
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_light_with_slider2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Light /w Slider'
            - entity: light.livingroom_light_duo_right_light
              attribute: brightness
              unit: "%"
              # format: brightness
              convert: brightness_pct
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_light_with_circslider

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          layout:
            template:
              name: sak_layout_fce_navigate
              variables:
                # - sak_layout_navigate_icon:
                - sak_layout_navigate_text: 'Navigate'
                - sak_layout_navigate_path: 'tut-03-p1'

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: person.zoefdehaas
              name: 'Person'
              icon: mdi:face-man
          layout:
            template:
              name: sak_layout_fce_person
              variables:
                - sak_layout_fce_person_zone_entities:
                    - zone.buiten
                    - zone.marco_werk

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: person.zoefdehaas
              name: 'Tha Washer'
              icon: mdi:face-man
              entity_picture: "/local/images/clip-test.jpg"
          layout:
            template:
              name: sak_layout_fce_person
              variables:
                - sak_layout_fce_person_use_entity_picture: true
                - sak_layout_fce_person_zone_entities:
                    - zone.buiten
                    - zone.marco_werk

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: person.zoefdehaas
              name: 'Ricky'
              icon: mdi:face-man
              # entity_picture: "/api/image/serve/795a33867be4693f4f2bd453c2d63c0d/512x512"
          layout:
            template:
              name: sak_layout_fce_person
              variables:
                - sak_layout_fce_person_use_entity_picture: true
                - sak_layout_fce_person_zone_entities:
                    - zone.buiten
                    - zone.marco_werk



      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.washingmachine_energy_power
              name: 'PwrOutl #1'
            - entity: sensor.washingmachine_energy_power
              secondary_info: last_changed
              format: relative
            - entity: switch.washingmachine_energy
              name: 'Air'
          layout:
            template:
              name: sak_layout_fce_power_outlet1
              variables:
                - sak_layout_power_outlet_segarc_scale_max_watt: 200

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.kitchen_group_energy_power
              name: 'PwrOutl #2'
            - entity: sensor.kitchen_group_energy_power
              secondary_info: last_changed
              format: relative
            - entity: switch.washingmachine_energy
              name: 'Air #2'
          layout:
            template:
              name: sak_layout_fce_power_outlet2
              variables:
                - sak_layout_power_outlet_segarc_scale_max_watt: 200

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'PwrOutl #3'
            - entity: switch.washingmachine_energy
              name: 'Kitchen Switch'
            - entity: sensor.washingmachine_energy_power  # Just for the demo!!!!
              name: 'Kitchen Switch #2'
          layout:
            template:
              name: sak_layout_fce_power_outlet3
              variables:
                - sak_layout_power_outlet_segarc_scale_max_watt: 200

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.washingmachine_energy_power
              name: 'PwrOutl #4'
            - entity: switch.washingmachine_energy
              name: 'Kitchen Switch #2'
          layout:
            template:
              name: sak_layout_fce_power_outlet4
              variables:
                - sak_layout_power_outlet_segarc_scale_max_watt: 200

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          layout:
            template:
              name: sak_layout_fce_scene
              variables:
                - sak_layout_scene_icon: mdi:script
                - sak_layout_scene_text: 'Scene'
                - sak_layout_scene_id: 'scene.unknown'
                - sak_layout_scene_transition: 2.5

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #1-1'
          layout:
            template:
              name: sak_layout_fce_sensor1
              variables:
                - sak_layout_sensor_history_disabled: true
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #1-2'
          layout:
            template:
              name: sak_layout_fce_sensor1
              variables:
                - sak_layout_sensor_name_above_state: false
                - sak_layout_sensor_scale_max: 2

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-1'
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-2'
              convert: multiply(1000)
              unit: W
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_name_above_state: false
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-3'
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_icon_style: colorstops
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-4'
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_name_above_state: false
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_icon_style: colorstops
                - sak_layout_sensor_circle_style: colorstops
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-5'
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_circle_style: colorstops
                - sak_layout_sensor_segarc_style: colorstops
                - sak_layout_sensor_scale_max: 2

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              name: 'Sensor #2-6'
            - entity: sensor.dsmr_reading_electricity_currently_delivered
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_sensor2
              variables:
                - sak_layout_sensor_name_above_state: false
                - sak_layout_sensor_history_disabled: true
                - sak_layout_sensor_circle_style: default
                - sak_layout_sensor_icon_style: default
                - sak_layout_sensor_segarc_style: colorlist
                - sak_layout_sensor_scale_max: 2
                
      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            # CPU
            - entity: sensor.processor_use
              decimals: 0
              name: 'Server Stats'
            # Memory
            - entity: sensor.memory_use_percent
              icon: mdi:memory
              decimals: 0
            # Disk
            - entity: sensor.disk_use_percent
              decimals: 0
              icon: mdi:harddisk
            # System Load
            - entity: sensor.load_1m
              decimals: 2
              unit: '1m'
            # Last changed
            - entity: sensor.processor_use
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_server_statistics

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Switch #1'
              icon: mdi:fan
              # name: 'Fan'
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_switch1
              variables:
                - sak_layout_switch_icon_spin: true
                - sak_layout_switch_service: light.toggle

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Switch #2a'
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_switch2
              variables:
                - sak_layout_switch_icon_spin: false
                # - sak_layout_switch_service: light.toggle

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Switch #2b'
              icon: mdi:fan
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_switch2
              variables:
                - sak_layout_switch_icon_spin: true
                # - sak_layout_switch_service: light.toggle

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 3
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: light.livingroom_light_duo_right_light
              name: 'Switch #3'
              icon: mdi:fan
            - entity: light.livingroom_light_duo_right_light
              secondary_info: last_changed
              format: relative
          layout:
            template:
              name: sak_layout_fce_switch3
              variables:
                - sak_layout_switch_icon_spin: true
              
      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 2
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Tree Pollen Index'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/
                - sak_layout_tomorrow_pollen_file_prefix: pollen_tree_
                

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass Pollen Index'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/
                - sak_layout_tomorrow_pollen_file_prefix: pollen_grass_

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed Pollen Index'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/
                - sak_layout_tomorrow_pollen_file_prefix: pollen_weed_

      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 1
      square: false
      cards:
        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Trees'
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass'
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed'
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen_all
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Trees'
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass'
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed'
            - entity: sensor.u_s_air_quality_index
              name: 'AQI'
            - entity: sensor.u_s_air_pollution_level
          layout:
            template:
              name: sak_layout_fce_tomorrow_pollen_all_aqi
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/

        ########################################################################

        - type: 'custom:swiss-army-knife-card'
          entities:
            - entity: sensor.tomorrow_io_zoefdehaas_tree_pollen_index
              name: 'Tres'
            - entity: sensor.tomorrow_io_zoefdehaas_grass_pollen_index
              name: 'Grass'
            - entity: sensor.tomorrow_io_zoefdehaas_weed_pollen_index
              name: 'Weed'
            - entity: sensor.u_s_air_quality_index
              name: 'AQI'
            - entity: sensor.u_s_air_pollution_level
          layout:
            template:
              name: sak_layout_fce_clippath_test
              variables:
                - sak_layout_tomorrow_pollen_image_path: tomorrow/
      # ================================================================
      # ================================================================
      # ================================================================
    - type: grid
      columns: 1
      square: true
      cards:
        - type: 'custom:swiss-army-knife-card'
          aspectratio: 3/1
          layout:
            styles:
              card:
                border-radius: 25em
                height: 50px
                display: none
            toolsets:
              - toolset: dummy
                position:
                  cx: 0
                  cy: 0
                tools:
                  - type: circle
                    position:
                      radius: 0
