type: vertical-stack
cards:
  - type: custom:decluttering-card
    template: button_quick_menu_generic
    variables:
      - lb_name: Verlichting
      - lb_icon: lightbulb
      - lb_path: lights
  - type: custom:decluttering-card
    template: divider_template

  - type: custom:decluttering-card
    template: header_template
    variables:
      - content: '### Energie'
  - type: horizontal-stack
    cards:
      - !include card-blank-card.yaml
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: dsmr_reading_electricity_currently_delivered
          - name: Stroom nu
          - line_color: 'red'
          - align_header: center
          - align_state: center
          - show:
              extrema: true
              fill: true
              graph: bar
              icon: false
#            - icon: 'mdi:flash'
          - show:
              icon: false
          - color_thresholds:
              - value: 100
                color: var(--theme-gradient-color-01)
              - value: 200
                color: var(--theme-gradient-color-02)
              - value: 300
                color: var(--theme-gradient-color-03)
              - value: 400
                color: var(--theme-gradient-color-04)
              - value: 500
                color: var(--theme-gradient-color-05)
              - value: 600
                color: var(--theme-gradient-color-06)
              - value: 700
                color: var(--theme-gradient-color-07)
              - value: 1000
                color: var(--theme-gradient-color-08)
              - value: 1500
                color: var(--theme-gradient-color-09)
              - value: 2000
                color: var(--theme-gradient-color-10)

          - decimals: 3
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: pv_700wp_energy_power
          - name: PV nu
          - line_color: '#27C24C'
          - align_header: center
          - align_state: center
          - show:
              extrema: true
              fill: true
              graph: bar
              icon: false
          - icon: 'mdi:solar-power'
          - decimals: 0
          - color_thresholds:
              - value: 25
                color: var(--theme-gradient-color-01)
              - value: 50
                color: var(--theme-gradient-color-02)
              - value: 75
                color: var(--theme-gradient-color-03)
              - value: 100
                color: var(--theme-gradient-color-04)
              - value: 150
                color: var(--theme-gradient-color-05)
              - value: 200
                color: var(--theme-gradient-color-06)
              - value: 300
                color: var(--theme-gradient-color-07)
              - value: 350
                color: var(--theme-gradient-color-08)
              - value: 400
                color: var(--theme-gradient-color-09)
              - value: 450
                color: var(--theme-gradient-color-10)
      - !include card-blank-card.yaml

  - type: horizontal-stack
    cards:
      - !include card-blank-card.yaml
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: dsmr_day_consumption_electricity_merged
          - name: Stroom Vandaag
          - show:
              graph: false
          - icon: 'mdi:counter'
          - decimals: 2
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: pv_700wp_energy_today
          - name: PV Vandaag
          - show:
              graph: false
              icon: false
          - icon: 'mdi:counter'
          - decimals: 2
      - !include card-blank-card.yaml

  - type: horizontal-stack
    cards:
      - !include card-blank-card.yaml
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: dsmr_day_consumption_gas
          - name: Gas Vandaag
          - line_color: 'DarkOrange'
          - show:
              extrema: false
              fill: true
              graph: bar
              icon: false
          - icon: 'mdi:fire'
          - decimals: 1
      - type: custom:decluttering-card
        template: mini_graph_card_template
        variables:
          - entity: ww_vandaag_min
          - name: WW Vandaag
          - line_color: 'SteelBlue'
          - show:
              extrema: false
              fill: true
              graph: bar
              icon: false
          - icon: 'mdi:shower'
          - decimals: 0
      - !include card-blank-card.yaml

  - type: horizontal-stack
    cards:
      #
      # Example 5b:: Neumorphic version of 5a.
      #
      #######################################################################

      - type: 'custom:dev-swiss-army-knife-card'
        entities:
          - entity: sensor.dsmr_reading_electricity_currently_delivered
            decimals: 3
            name: 'Total'
            area: 'Tha Moon'
          - entity:  sensor.dsmr_reading_phase_currently_delivered_l1
            name: 'L1'
            decimals: 3
          - entity:  sensor.dsmr_reading_phase_currently_delivered_l2
            name: 'L2'
            decimals: 3
          - entity:  sensor.dsmr_reading_phase_currently_delivered_l3
            name: 'L3'
            decimals: 3

        aspectratio: 2/1

        disable_card: false

        dev:
          debug: false
          
        layout:
          styles:
            card:
            toolsets:
              filter: url(#nm-1)
          toolsets:

           # ==============================================================================
            - toolset: humi
              position:
                cx: 50
                cy: 50
              tools:
                # Neumorphic Disc
                - type: circle
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 50
                    radius: 45
                  styles:
                    circle:
                      fill: var(--primary-background-color)

                - type: 'segarc'
                  id: 1
                  entity_index: 1
                  position:
                    cx: 50
                    cy: 50
                    start_angle: -200 #-212.5
                    end_angle: 20 #32.5
                    width: 5
                    radius: 40
                  scale:
                    min: 0
                    max: 4
                  show:
                    scale: true
                    style: 'colorstops'
                    labelstops: false
                  segments:
                    colorstops:
                      gap: 1
                      colors:
                        0: '#5e4fa2'
                        0.1: '#3288bd'
                        0.25: '#66c2a5'
                        0.5: '#abdda4'
                        1: '#e6f598'
                        1.5: '#fee08b'
                        2: '#fdae61'
                        2.5: '#f46d43'
                        3: '#d53e4f'
                        4: '#9e0142'
                  styles:
                    foreground:
                      fill: var(--theme-gradient-color-02)
                    background:
                      fill: var(--cs-theme-default-darken-15)
                      filter: url(#is-1)

                - type: 'icon'
                  id: 0
                  entity_index: 1
                  position:
                    cx: 38
                    cy: 32.5
                    align: center
                    icon_size: 18.5
                  styles:
                    icon:
                      color: var(--primary-text-color)
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      filter: url(#is-1)

                - type: 'state'
                  id: 0
                  entity_index: 1
                  position:
                    cx: 38
                    cy: 50
                  show:
                    uom: bottom
                  styles:
                    state:
                      text-anchor: middle
                      font-size: 12.5em
                      font-weight: bolder
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      # filter: url(#is-1)

            # ==============================================================================
            - toolset: pressure
              position:
                cx: 150
                cy: 50
              tools:
                # Neumorphic Disc
                - type: circle
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 50
                    radius: 45
                  styles:
                    circle:
                      fill: var(--primary-background-color)

                - type: 'segarc'
                  id: 1
                  entity_index: 2
                  position:
                    cx: 50
                    cy: 50
                    start_angle: 212.5
                    end_angle: -32.5
                    width: 5
                    radius: 40
                  scale:
                    min: 0
                    max: 4
                  show:
                    scale: true
                    style: 'colorstops'
                  segments:
                    colorstops:
                      gap: 1
                      colors:
                        0: '#5e4fa2'
                        0.1: '#3288bd'
                        0.25: '#66c2a5'
                        0.5: '#abdda4'
                        1: '#e6f598'
                        1.5: '#fee08b'
                        2: '#fdae61'
                        2.5: '#f46d43'
                        3: '#d53e4f'
                        4: '#9e0142'
                  styles:
                    foreground:
                      fill: var(--theme-gradient-color-03)
                    background:
                      fill: var(--cs-theme-default-darken-15)
                      filter: url(#is-1)

                - type: 'icon'
                  id: 0
                  entity_index: 2
                  position:
                    cx: 62
                    cy: 32.5
                    align: center
                    icon_size: 18.5
                  styles:
                    icon:
                      color: var(--primary-text-color)
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      filter: url(#is-1)

                - type: 'state'
                  id: 0
                  entity_index: 2
                  position:
                    cx: 62
                    cy: 50
                  show:
                    uom: bottom
                  styles:
                    state:
                      text-anchor: middle
                      font-size: 12.5em
                      font-weight: bolder
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      # filter: url(#is-1)

            # ==============================================================================
            - toolset: total
              position:
                cx: 100
                cy: 50
              tools:
                # Neumorphic Disc
                - type: circle
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 50
                    radius: 45
                  styles:
                    circle:
                      fill: var(--primary-background-color)
                      filter: url(#nm-1)
                
                - type: 'segarc'
                  id: 0
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 50
                    start_angle: -140
                    end_angle: 140
                    width: 5
                    radius: 40
                  scale:
                    min: 0
                    max: 4
                  show:
                    scale: true
                    style: 'colorstops'
                  segments:
                    colorstops:
                      gap: 1
                      colors:
                        0: '#5e4fa2'
                        0.1: '#3288bd'
                        0.25: '#66c2a5'
                        0.5: '#abdda4'
                        1: '#e6f598'
                        1.5: '#fee08b'
                        2: '#fdae61'
                        2.5: '#f46d43'
                        3: '#d53e4f'
                        4: '#9e0142'
                  styles:
                    foreground:
                      # fill: var(--theme-gradient-color-01)
                      poep: yellow
                    background:
                      fill: var(--cs-theme-default-darken-15)
                      filter: url(#is-1)
                    scale:
                      filter: url(#nm-1)

                - type: 'icon'
                  id: 0
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 32.5
                    align: center
                    icon_size: 18.5
                  styles:
                    icon:
                      color: var(--primary-text-color)
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      filter: url(#is-1)

                - type: 'state'
                  id: 0
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 50
                  show:
                    uom: bottom
                  styles:
                    state:
                      text-anchor: middle
                      font-size: 12.5em
                      font-weight: bolder
                      fill: var(--primary-text-color)
                      opacity: 0.7
                      # filter: url(#is-1)

             # ==============================================================================
            - toolset: text-stuff
              position:
                cx: 100
                cy: 50
              tools:
                - type: 'area'
                  id: 0
                  entity_index: 0
                  position:
                    cx: 50
                    cy: 85
                  styles:
                    area:
                      font-size: 7.2em

